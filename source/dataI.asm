; Constants
collision_map_none                    = 0
collision_map_out_of_bounds           = 255
collision_map_rope                    = 2
collision_map_solid_rock              = 3
collision_map_unknown                 = 1
copy_mode_2x2                         = 0
copy_mode_random16                    = 16
copy_mode_random2                     = 2
copy_mode_random32                    = 32
copy_mode_random4                     = 4
copy_mode_random64                    = 64
copy_mode_random8                     = 8
copy_mode_simple                      = 1
exit_room_bottom                      = 2
exit_room_left                        = 1
exit_room_right                       = 4
exit_room_top                         = 8
first_level_letter                    = 65
game_area_height_cells                = 24
game_area_width_cells                 = 40
last_level_letter                     = 81
object_collided_ceiling               = 8
object_collided_floor                 = 2
object_collided_left_wall             = 1
object_collided_right_wall            = 4
objectid_big_stone_room_0             = 5
objectid_big_stone_room_3             = 4
objectid_old_player                   = 11
objectid_old_player_accessory         = 12
objectid_player                       = 0
objectid_player_accessory             = 1
objectid_rope_end                     = 8
objectid_seesaw                       = 3
objectid_small_stone_object           = 2
opcode_jmp                            = 76
sprite_op_flags_copy_screen           = 1
sprite_op_flags_erase_to_bg_colour    = 2
sprite_op_flags_erase_to_fg_colour    = 4
sprite_op_flags_normal                = 0
spriteid_197                          = 197
spriteid_ball                         = 59
spriteid_big_stone                    = 203
spriteid_boulder                      = 221
spriteid_brazier                      = 58
spriteid_cache2                       = 204
spriteid_cache3                       = 205
spriteid_cache4                       = 207
spriteid_cat1                         = 27
spriteid_cat2                         = 28
spriteid_cat_jump                     = 26
spriteid_cat_tail1                    = 18
spriteid_cat_tail2                    = 19
spriteid_cat_tail3                    = 20
spriteid_cat_tail4                    = 21
spriteid_cat_tail5                    = 22
spriteid_cat_tail6                    = 23
spriteid_cat_tail7                    = 24
spriteid_cat_tail8                    = 25
spriteid_cat_transform1               = 16
spriteid_cat_transform2               = 17
spriteid_cat_walk1                    = 12
spriteid_cat_walk2                    = 13
spriteid_cat_walk3                    = 14
spriteid_cat_walk4                    = 15
spriteid_circle                       = 32
spriteid_corner_bottom_left           = 45
spriteid_corner_bottom_right          = 46
spriteid_corner_top_left              = 44
spriteid_corner_top_right             = 47
spriteid_diamond1                     = 39
spriteid_diamond2                     = 40
spriteid_diamond3                     = 41
spriteid_diamond4                     = 42
spriteid_diamond5                     = 43
spriteid_erase_player                 = 199
spriteid_erase_player_accessory       = 198
spriteid_erase_small_stone            = 201
spriteid_fingertip_tile_restoration   = 30
spriteid_fire1                        = 60
spriteid_fire2                        = 61
spriteid_fire3                        = 62
spriteid_fire4                        = 63
spriteid_fire5                        = 64
spriteid_fire6                        = 65
spriteid_fire7                        = 66
spriteid_fire8                        = 67
spriteid_horizontal_rope              = 216
spriteid_icodata_box                  = 9
spriteid_icodata_cat                  = 5
spriteid_icodata_disc                 = 3
spriteid_icodata_info                 = 7
spriteid_icodata_monkey               = 6
spriteid_icodata_password             = 8
spriteid_icodata_sound                = 2
spriteid_icodata_wizard               = 4
spriteid_icon_background              = 1
spriteid_left_hook                    = 214
spriteid_long_rope_end1               = 218
spriteid_long_rope_end2               = 219
spriteid_menu_item_completion_spell   = 33
spriteid_monkey1                      = 78
spriteid_monkey2                      = 79
spriteid_monkey3                      = 80
spriteid_monkey4                      = 81
spriteid_monkey5                      = 82
spriteid_monkey_climb1                = 83
spriteid_monkey_climb2                = 84
spriteid_monkey_tail1                 = 70
spriteid_monkey_tail2                 = 71
spriteid_monkey_tail3                 = 72
spriteid_monkey_tail4                 = 73
spriteid_monkey_tail5                 = 74
spriteid_monkey_tail6                 = 75
spriteid_monkey_tail7                 = 76
spriteid_monkey_tail8                 = 77
spriteid_monkey_transform1            = 68
spriteid_monkey_transform2            = 69
spriteid_one_pixel_masked_out         = 0
spriteid_one_pixel_set                = 31
spriteid_pointer_hand                 = 29
spriteid_right_hook                   = 215
spriteid_rope1                        = 85
spriteid_rope2                        = 86
spriteid_rope3                        = 87
spriteid_rope4                        = 88
spriteid_rope_broken                  = 220
spriteid_rope_end                     = 10
spriteid_rope_hook                    = 11
spriteid_seesaw                       = 206
spriteid_short_rope                   = 217
spriteid_short_rope_end               = 222
spriteid_small_stone                  = 200
spriteid_sparkles1                    = 34
spriteid_sparkles2                    = 35
spriteid_sparkles3                    = 36
spriteid_sparkles4                    = 37
spriteid_sparkles5                    = 38
spriteid_stone_menu_item              = 202
spriteid_sword                        = 208
spriteid_sword_menu_item              = 209
spriteid_sword_spin1                  = 210
spriteid_sword_spin2                  = 211
spriteid_sword_spin3                  = 212
spriteid_sword_spin4                  = 213
spriteid_wizard1                      = 48
spriteid_wizard2                      = 49
spriteid_wizard3                      = 50
spriteid_wizard4                      = 51
spriteid_wizard5                      = 52
spriteid_wizard7                      = 54
spriteid_wizard_hand                  = 55
spriteid_wizard_transform1            = 56
spriteid_wizard_transform2            = 57
spriteid_wizard_using_object          = 53

; Memory locations
sprite_reflect_flag                                         = $1d
desired_room_index                                          = $30
current_level                                               = $31
temp_sprite_x_offset                                        = $3a
temp_sprite_y_offset                                        = $3b
width_in_cells                                              = $3c
height_in_cells                                             = $3d
value_to_write_to_collision_map                             = $3e
source_sprite_memory_low                                    = $40
source_sprite_memory_high                                   = $41
copy_mode                                                   = $42
current_player_character                                    = $48
previous_room_index                                         = $50
level_before_latest_level_and_room_initialisation           = $51
player_held_object_spriteid                                 = $52
developer_mode_sideways_ram_is_set_up_flag                  = $5b
l0070                                                       = $70
room_exit_direction                                         = $70
l0078                                                       = $78
l0079                                                       = $79
l007a                                                       = $7a
object_x_low                                                = $0950
object_x_low_old                                            = $095b
object_x_high                                               = $0966
object_x_high_old                                           = $0971
object_y_low                                                = $097c
object_y_low_old                                            = $0987
object_y_high                                               = $0992
object_spriteid                                             = $09a8
object_spriteid_old                                         = $09b3
object_direction                                            = $09be
current_player_animation                                    = $09df
save_game_level_i_left_seesaw_puzzle_progress               = $0a24
save_game_level_i_sword_progress                            = $0a25
save_game_level_i_spell_progress                            = $0a26
save_game_level_i_small_stone_x_low                         = $0a27
save_game_level_i_small_stone_x_high                        = $0a28
save_game_level_i_small_stone_y_low                         = $0a29
save_game_level_i_small_stone_y_high                        = $0a2a
save_game_level_i_small_stone_direction_without_bounces     = $0a2b
save_game_level_i_small_stone_left_seesaw_animation_step    = $0a2c
save_game_level_i_small_stone_room                          = $0a2d
save_game_level_i_small_stone_direction_including_bounces   = $0a2e
save_game_level_i_top_seesaw_puzzle_progress                = $0a2f
level_workspace                                             = $0a6f
tile_all_set_pixels                                         = $0aa9
developer_flags                                             = $1103
initialise_level_and_room                                   = $1140
start_room                                                  = $12bb
game_update                                                 = $12da
update_room_first_update_flag                               = $132b
sprite_op                                                   = $138d
toolbar_colour                                              = $175e
gameplay_area_colour                                        = $1760
get_random_number_up_to_a                                   = $18a6
update_brazier_and_fire                                     = $1988
update_level_completion                                     = $1a10
currently_updating_logic_for_room_index                     = $1aba
copy_rectangle_of_memory_to_screen                          = $1abb
draw_floor_walls_and_ceiling_around_solid_rock              = $1b90
draw_rope                                                   = $1db9
write_value_to_a_rectangle_of_cells_in_collision_map        = $1e44
write_a_single_value_to_cell_in_collision_map               = $1ebb
read_collision_map_value_for_xy                             = $1efa
draw_sprite_a_at_cell_xy                                    = $1f4c
draw_sprite_a_at_cell_xy_and_write_to_collision_map         = $1f57
set_object_position_from_cell_xy                            = $1f5d
set_object_position_from_current_sprite_position            = $1f6d
copy_object_state_to_old                                    = $20f7
jmp_for_update_extra_player_character                       = $22dd
play_landing_sound                                          = $23a9
player_wall_collision_reaction_speed                        = $2433
find_left_and_right_of_object                               = $2434
temp_left_offset                                            = $24d0
temp_right_offset                                           = $24d1
find_top_and_bottom_of_object                               = $24d2
temp_top_offset                                             = $2550
temp_bottom_offset                                          = $2551
update_object_a_solid_rock_collision                        = $25f5
update_player_hitting_floor                                 = $2770
player_has_hit_floor_flag                                   = $288f
player_just_fallen_off_edge_direction                       = $2890
get_solid_rock_collision_for_object_a                       = $2894
temp_default_collision_map_option                           = $28e1
test_for_collision_between_objects_x_and_y                  = $28e2
desired_menu_slots                                          = $295c
menu_index_for_extra_items                                  = $296e
insert_character_menu_item_into_toolbar                     = $2b87
find_or_create_menu_slot_for_A                              = $2bbd
remove_item_from_toolbar_menu                               = $2be0
player_using_object_spriteid                                = $2eb6
previous_player_using_object_spriteid                       = $2eb7
toolbar_collectable_spriteids                               = $2ee8
collectable_spriteids                                       = $2eed
collectable_being_used_spriteids                            = $2ef2
monkey_base_animation                                       = $30ff
monkey_climb_idle_animation                                 = $3144
monkey_climb_down_animation                                 = $3148
monkey_climb_animation                                      = $3150
inhibit_monkey_climb_flag                                   = $31d7
object_erase_type                                           = $38ac
object_z_order                                              = $38c2
object_room_collision_flags                                 = $38d8
play_sound_yx                                               = $38f6
define_envelope                                             = $395e
sound_priority_per_channel_table                            = $396f

    * = $3ad5

; *************************************************************************************
; 
; Level header
; 
; *************************************************************************************
level_data
pydis_start
    !word sprite_data - level_data                                    ; 3ad5: c7 0b                   ; offset to sprite data
level_specific_initialisation_ptr
    !word level_specific_initialisation                               ; 3ad7: f1 3a                   ; address of level initialisation code
level_specific_update_ptr
    !word level_specific_update                                       ; 3ad9: 3a 3b                   ; address of level update code
level_specific_password_ptr
    !word level_specific_password                                     ; 3adb: e7 3a                   ; address of level password
room_index_cheat1
    !byte 1                                                           ; 3add: 01
room_index_cheat2
    !byte 1                                                           ; 3ade: 01
level_room_data_table
    !word room_0_data                                                 ; 3adf: d6 40                   ; table of room data/initialisation code
    !word room_1_data                                                 ; 3ae1: 49 3b
    !word room_2_data                                                 ; 3ae3: f4 3b
    !word room_3_data                                                 ; 3ae5: aa 3e

; *************************************************************************************
; 'SEE-SWORD[0d]' EOR-encrypted with $cb
level_specific_password
    !byte $98, $8e, $8e, $e6, $98, $9c, $84, $99, $8f, $c6            ; 3ae7: 98 8e 8e...

; *************************************************************************************
; 
; Level initialisation
; 
; This is called whenever a new room is entered.
; 
; *************************************************************************************
; check for level change (branch if not)
level_specific_initialisation
    lda current_level                                                 ; 3af1: a5 31
    cmp level_before_latest_level_and_room_initialisation             ; 3af3: c5 51
    beq set_ground_tiles                                              ; 3af5: f0 3a
    lda developer_flags                                               ; 3af7: ad 03 11
    bpl developer_mode_inactive                                       ; 3afa: 10 0a
    lda #$ff                                                          ; 3afc: a9 ff
    sta save_game_level_i_left_seesaw_puzzle_progress                 ; 3afe: 8d 24 0a
    lda #spriteid_sword_menu_item                                     ; 3b01: a9 d1
    jsr find_or_create_menu_slot_for_A                                ; 3b03: 20 bd 2b
; if stone got, then add to toolbar
developer_mode_inactive
    lda save_game_level_i_left_seesaw_puzzle_progress                 ; 3b06: ad 24 0a
    bpl not_got_stone                                                 ; 3b09: 10 05
    lda #spriteid_stone_menu_item                                     ; 3b0b: a9 ca
    jsr find_or_create_menu_slot_for_A                                ; 3b0d: 20 bd 2b
; if sword got, then add to toolbar
not_got_stone
    lda save_game_level_i_sword_progress                              ; 3b10: ad 25 0a
    bpl not_got_sword                                                 ; 3b13: 10 05
    lda #spriteid_sword_menu_item                                     ; 3b15: a9 d1
    jsr find_or_create_menu_slot_for_A                                ; 3b17: 20 bd 2b
not_got_sword
    lda desired_room_index                                            ; 3b1a: a5 30
    cmp #3                                                            ; 3b1c: c9 03
    bne set_ground_tiles                                              ; 3b1e: d0 11
; in room 3. Switch to room 1, and set player position
    lda #1                                                            ; 3b20: a9 01
    sta desired_room_index                                            ; 3b22: 85 30
    ldx #$14                                                          ; 3b24: a2 14
    ldy #7                                                            ; 3b26: a0 07
    lda #0                                                            ; 3b28: a9 00
    sta temp_sprite_y_offset                                          ; 3b2a: 85 3b
    lda #objectid_player                                              ; 3b2c: a9 00
    jsr set_object_position_from_cell_xy                              ; 3b2e: 20 5d 1f
set_ground_tiles
    lda #<ground_fill_2x2_top_left                                    ; 3b31: a9 7c
    sta source_sprite_memory_low                                      ; 3b33: 85 40
    lda #>ground_fill_2x2_top_left                                    ; 3b35: a9 46
    sta source_sprite_memory_high                                     ; 3b37: 85 41
    rts                                                               ; 3b39: 60

; *************************************************************************************
; 
; Level update
; 
; This generally calls individual functions to update the logic in each room.
; 
; While updating the logic for a room, 'currently_updating_logic_for_room_index' is
; normally set. In practice this only actually needs to be set if it calls
; 'update_brazier_and_fire' or 'update_level_completion'
; 
; *************************************************************************************
level_specific_update
    jsr update_left_seesaw_puzzle                                     ; 3b3a: 20 37 43
    jsr update_top_seesaw_puzzle                                      ; 3b3d: 20 a4 3f
    jsr update_sword_puzzle                                           ; 3b40: 20 a4 41
    jsr room_2_update_handler                                         ; 3b43: 20 67 3c
    jmp room_1_update_handler                                         ; 3b46: 4c df 3b

; *************************************************************************************
; 
; Room 1 initialisation and game loop
; 
; *************************************************************************************
room_1_data
    !byte 20                                                          ; 3b49: 14                      ; initial player X cell
    !byte 21                                                          ; 3b4a: 15                      ; initial player Y cell

; #####   |                      |   #####
; #####   |                      |   #####
;         |                      |
;         |                      |
;         |                      |
;         |                      |
;         |                      |
; #####   |   ################   |   #####
; #####   |   ################   |   #####
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |                      |     ###
;         |                      |
;         |                      |
; 
;                     P
;        ##########################
; ########################################
; ########################################
; draw rectangles of ground fill rock with a 2x2 pattern. Also writes to the collision
; map.
; draw 5x2 rectangle at (0,0)
room_1_code
    ldx #0                                                            ; 3b4b: a2 00
    ldy #0                                                            ; 3b4d: a0 00
    lda #5                                                            ; 3b4f: a9 05
    sta width_in_cells                                                ; 3b51: 85 3c
    lda #2                                                            ; 3b53: a9 02
    sta height_in_cells                                               ; 3b55: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3b57: 20 bb 1a
; draw 5x2 rectangle at (35,0)
    ldx #$23 ; '#'                                                    ; 3b5a: a2 23
    jsr copy_rectangle_of_memory_to_screen                            ; 3b5c: 20 bb 1a
; draw 5x2 rectangle at (0,7)
    ldx #0                                                            ; 3b5f: a2 00
    ldy #7                                                            ; 3b61: a0 07
    jsr copy_rectangle_of_memory_to_screen                            ; 3b63: 20 bb 1a
; draw 5x2 rectangle at (35,7)
    ldx #$23 ; '#'                                                    ; 3b66: a2 23
    jsr copy_rectangle_of_memory_to_screen                            ; 3b68: 20 bb 1a
; draw 16x2 rectangle at (12,7)
    ldx #$0c                                                          ; 3b6b: a2 0c
    lda #$10                                                          ; 3b6d: a9 10
    sta width_in_cells                                                ; 3b6f: 85 3c
    jsr copy_rectangle_of_memory_to_screen                            ; 3b71: 20 bb 1a
; draw 3x8 rectangle at (0,9)
    ldx #0                                                            ; 3b74: a2 00
    ldy #9                                                            ; 3b76: a0 09
    lda #3                                                            ; 3b78: a9 03
    sta width_in_cells                                                ; 3b7a: 85 3c
    lda #8                                                            ; 3b7c: a9 08
    sta height_in_cells                                               ; 3b7e: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3b80: 20 bb 1a
; draw 3x8 rectangle at (37,9)
    ldx #$25 ; '%'                                                    ; 3b83: a2 25
    jsr copy_rectangle_of_memory_to_screen                            ; 3b85: 20 bb 1a
; draw 255x8 rectangle at (0,22)
    ldx #0                                                            ; 3b88: a2 00
    ldy #$16                                                          ; 3b8a: a0 16
    lda #$ff                                                          ; 3b8c: a9 ff
    sta width_in_cells                                                ; 3b8e: 85 3c
    jsr copy_rectangle_of_memory_to_screen                            ; 3b90: 20 bb 1a
; draw 26x1 rectangle at (7,21)
    ldx #7                                                            ; 3b93: a2 07
    dey                                                               ; 3b95: 88
    lda #$1a                                                          ; 3b96: a9 1a
    sta width_in_cells                                                ; 3b98: 85 3c
    lda #1                                                            ; 3b9a: a9 01
    sta height_in_cells                                               ; 3b9c: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3b9e: 20 bb 1a
; carve the floor, walls and ceiling into the rock
    jsr draw_floor_walls_and_ceiling_around_solid_rock                ; 3ba1: 20 90 1b
; draw rope at (8,0) length 19
    ldx #8                                                            ; 3ba4: a2 08
    ldy #0                                                            ; 3ba6: a0 00
    lda #$13                                                          ; 3ba8: a9 13
    jsr draw_rope                                                     ; 3baa: 20 b9 1d
; draw rope at (31,0) length 19
    ldx #$1f                                                          ; 3bad: a2 1f
    jsr draw_rope                                                     ; 3baf: 20 b9 1d
    jsr start_room                                                    ; 3bb2: 20 bb 12
room_1_game_update_loop
    jsr game_update                                                   ; 3bb5: 20 da 12
    sta room_exit_direction                                           ; 3bb8: 85 70
    and #exit_room_top                                                ; 3bba: 29 08
    beq room_1_check_left_exit                                        ; 3bbc: f0 07
    ldx #3                                                            ; 3bbe: a2 03
    ldy current_level                                                 ; 3bc0: a4 31
    jmp initialise_level_and_room                                     ; 3bc2: 4c 40 11

room_1_check_left_exit
    lda room_exit_direction                                           ; 3bc5: a5 70
    and #exit_room_left                                               ; 3bc7: 29 01
    beq room_1_check_right_exit                                       ; 3bc9: f0 07
    ldx #0                                                            ; 3bcb: a2 00
    ldy current_level                                                 ; 3bcd: a4 31
    jmp initialise_level_and_room                                     ; 3bcf: 4c 40 11

room_1_check_right_exit
    lda room_exit_direction                                           ; 3bd2: a5 70
    and #exit_room_right                                              ; 3bd4: 29 04
    beq room_1_game_update_loop                                       ; 3bd6: f0 dd
    ldx #2                                                            ; 3bd8: a2 02
    ldy current_level                                                 ; 3bda: a4 31
    jmp initialise_level_and_room                                     ; 3bdc: 4c 40 11

room_1_update_handler
    lda #1                                                            ; 3bdf: a9 01
    sta currently_updating_logic_for_room_index                       ; 3be1: 8d ba 1a
    ldx #3                                                            ; 3be4: a2 03
    ldy #$0c                                                          ; 3be6: a0 0c
    lda #3                                                            ; 3be8: a9 03
    jsr update_brazier_and_fire                                       ; 3bea: 20 88 19
    ldx #$25 ; '%'                                                    ; 3bed: a2 25
    lda #4                                                            ; 3bef: a9 04
    jmp update_brazier_and_fire                                       ; 3bf1: 4c 88 19

; *************************************************************************************
; 
; Room 2 initialisation and game loop
; 
; *************************************************************************************
room_2_data
    !byte 16                                                          ; 3bf4: 10                      ; initial player X cell
    !byte 21                                                          ; 3bf5: 15                      ; initial player Y cell

; ########################################
; ########################################
;                                    #####
;                                     ####
;                                      ###
;                                      ###
;                                      ###
; ###                                  ###
; ###                                  ###
; ###                                  ###
; ###                                  ###
; ###                                  ###
; ###                                  ###
; ###                                  ###
; ###                                  ###
; ###                                  ###
; ###                                  ###
;                    ###               ###
;                    ###               ###
;                    ###               ###
;                 P  ###               ###
;        ###############               ###
; ########################################
; ########################################
; draw rectangles of ground fill rock with a 2x2 pattern. Also writes to the collision
; map.
room_2_code
    jsr sub_c40c2                                                     ; 3bf6: 20 c2 40
; draw 255x1 rectangle at (35,2)
    ldx #$23 ; '#'                                                    ; 3bf9: a2 23
    ldy #2                                                            ; 3bfb: a0 02
    dec height_in_cells                                               ; 3bfd: c6 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3bff: 20 bb 1a
; draw 255x1 rectangle at (36,3)
    inx                                                               ; 3c02: e8
    iny                                                               ; 3c03: c8
    jsr copy_rectangle_of_memory_to_screen                            ; 3c04: 20 bb 1a
; draw 255x18 rectangle at (37,4)
    inx                                                               ; 3c07: e8
    iny                                                               ; 3c08: c8
    lda #$12                                                          ; 3c09: a9 12
    sta height_in_cells                                               ; 3c0b: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3c0d: 20 bb 1a
; draw 3x10 rectangle at (0,7)
    ldx #0                                                            ; 3c10: a2 00
    ldy #7                                                            ; 3c12: a0 07
    lda #3                                                            ; 3c14: a9 03
    sta width_in_cells                                                ; 3c16: 85 3c
    lda #$0a                                                          ; 3c18: a9 0a
    sta height_in_cells                                               ; 3c1a: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3c1c: 20 bb 1a
; draw 3x5 rectangle at (19,17)
    ldx #$13                                                          ; 3c1f: a2 13
    ldy #$11                                                          ; 3c21: a0 11
    lda #3                                                            ; 3c23: a9 03
    sta width_in_cells                                                ; 3c25: 85 3c
    lda #5                                                            ; 3c27: a9 05
    sta height_in_cells                                               ; 3c29: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3c2b: 20 bb 1a
; draw 12x1 rectangle at (7,21)
    ldx #7                                                            ; 3c2e: a2 07
    ldy #$15                                                          ; 3c30: a0 15
    lda #$0c                                                          ; 3c32: a9 0c
    sta width_in_cells                                                ; 3c34: 85 3c
    lda #1                                                            ; 3c36: a9 01
    sta height_in_cells                                               ; 3c38: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3c3a: 20 bb 1a
; carve the floor, walls and ceiling into the rock
    jsr draw_floor_walls_and_ceiling_around_solid_rock                ; 3c3d: 20 90 1b
    jsr start_room                                                    ; 3c40: 20 bb 12
room_2_game_update_loop
    jsr game_update                                                   ; 3c43: 20 da 12
    and #exit_room_left                                               ; 3c46: 29 01
    beq room_2_game_update_loop                                       ; 3c48: f0 f9
    ldx #1                                                            ; 3c4a: a2 01
    ldy current_level                                                 ; 3c4c: a4 31
    jmp initialise_level_and_room                                     ; 3c4e: 4c 40 11

trajectory_y_coordinates_table
    !byte 146, 136, 128, 121, 114, 108, 104, 100,  98,  97,  96       ; 3c51: 92 88 80...
    !byte  96,  97,  99, 102, 106, 112, 120, 130, 139, 152, 168       ; 3c5c: 60 61 63...

room_2_update_handler
    lda #2                                                            ; 3c67: a9 02
    sta currently_updating_logic_for_room_index                       ; 3c69: 8d ba 1a
    ldx #$1f                                                          ; 3c6c: a2 1f
    ldy #$15                                                          ; 3c6e: a0 15
    lda #3                                                            ; 3c70: a9 03
    sta temp_sprite_y_offset                                          ; 3c72: 85 3b
    lda #4                                                            ; 3c74: a9 04
    jsr update_level_completion                                       ; 3c76: 20 10 1a
; check for first update in room (branch if so)
    lda update_room_first_update_flag                                 ; 3c79: ad 2b 13
    bne c3c81                                                         ; 3c7c: d0 03
    jmp c3d5a                                                         ; 3c7e: 4c 5a 3d

; check for level change (branch if not)
c3c81
    lda current_level                                                 ; 3c81: a5 31
    cmp level_before_latest_level_and_room_initialisation             ; 3c83: c5 51
    beq c3c91                                                         ; 3c85: f0 0a
    lda save_game_level_i_spell_progress                              ; 3c87: ad 26 0a
    beq c3c91                                                         ; 3c8a: f0 05
    lda #$1f                                                          ; 3c8c: a9 1f
    sta save_game_level_i_spell_progress                              ; 3c8e: 8d 26 0a
c3c91
    lda desired_room_index                                            ; 3c91: a5 30
    cmp #2                                                            ; 3c93: c9 02
    beq c3c9a                                                         ; 3c95: f0 03
    jmp c3d57                                                         ; 3c97: 4c 57 3d

c3c9a
    ldx #<envelope1                                                   ; 3c9a: a2 48
    ldy #>envelope1                                                   ; 3c9c: a0 46
    jsr define_envelope                                               ; 3c9e: 20 5e 39
    ldx #<envelope2                                                   ; 3ca1: a2 5e
    ldy #>envelope2                                                   ; 3ca3: a0 46
    jsr define_envelope                                               ; 3ca5: 20 5e 39
    lda #$40 ; '@'                                                    ; 3ca8: a9 40
    sta object_z_order + 4                                            ; 3caa: 8d c6 38
    lda #$cd                                                          ; 3cad: a9 cd
    sta object_erase_type + objectid_seesaw                           ; 3caf: 8d af 38
    ldx #$1d                                                          ; 3cb2: a2 1d
    lda #4                                                            ; 3cb4: a9 04
    sta temp_sprite_x_offset                                          ; 3cb6: 85 3a
    ldy #$16                                                          ; 3cb8: a0 16
    lda #3                                                            ; 3cba: a9 03
    jsr set_object_position_from_cell_xy                              ; 3cbc: 20 5d 1f
    lda #spriteid_seesaw                                              ; 3cbf: a9 ce
    sta object_spriteid + objectid_seesaw                             ; 3cc1: 8d ab 09
    lda #1                                                            ; 3cc4: a9 01
    sta width_in_cells                                                ; 3cc6: 85 3c
    sta height_in_cells                                               ; 3cc8: 85 3d
    lda #collision_map_solid_rock                                     ; 3cca: a9 03
    sta value_to_write_to_collision_map                               ; 3ccc: 85 3e
    ldx #$0d                                                          ; 3cce: a2 0d
    ldy #2                                                            ; 3cd0: a0 02
    lda #spriteid_left_hook                                           ; 3cd2: a9 d6
    jsr draw_sprite_a_at_cell_xy_and_write_to_collision_map           ; 3cd4: 20 57 1f
    ldx #$1b                                                          ; 3cd7: a2 1b
    lda #spriteid_right_hook                                          ; 3cd9: a9 d7
    jsr draw_sprite_a_at_cell_xy_and_write_to_collision_map           ; 3cdb: 20 57 1f
    dex                                                               ; 3cde: ca
    dex                                                               ; 3cdf: ca
    lda #spriteid_horizontal_rope                                     ; 3ce0: a9 d8
loop_c3ce2
    jsr draw_sprite_a_at_cell_xy                                      ; 3ce2: 20 4c 1f
    dex                                                               ; 3ce5: ca
    cpx #$0f                                                          ; 3ce6: e0 0f
    bcs loop_c3ce2                                                    ; 3ce8: b0 f8
    lda save_game_level_i_spell_progress                              ; 3cea: ad 26 0a
    cmp #$0a                                                          ; 3ced: c9 0a
    bcc c3cf3                                                         ; 3cef: 90 02
    lda #$0a                                                          ; 3cf1: a9 0a
c3cf3
    sta l3ea9                                                         ; 3cf3: 8d a9 3e
    ldx #$0d                                                          ; 3cf6: a2 0d
    lda #$12                                                          ; 3cf8: a9 12
    sec                                                               ; 3cfa: 38
    sbc l3ea9                                                         ; 3cfb: ed a9 3e
    tay                                                               ; 3cfe: a8
    lda #2                                                            ; 3cff: a9 02
    jsr write_a_single_value_to_cell_in_collision_map                 ; 3d01: 20 bb 1e
    dey                                                               ; 3d04: 88
loop_c3d05
    lda #spriteid_short_rope                                          ; 3d05: a9 d9
    jsr draw_sprite_a_at_cell_xy                                      ; 3d07: 20 4c 1f
    lda #2                                                            ; 3d0a: a9 02
    jsr write_a_single_value_to_cell_in_collision_map                 ; 3d0c: 20 bb 1e
    dey                                                               ; 3d0f: 88
    cpy #3                                                            ; 3d10: c0 03
    bcs loop_c3d05                                                    ; 3d12: b0 f1
    lda #7                                                            ; 3d14: a9 07
    jsr set_object_position_from_cell_xy                              ; 3d16: 20 5d 1f
    lda #8                                                            ; 3d19: a9 08
    ldy #$15                                                          ; 3d1b: a0 15
    jsr set_object_position_from_cell_xy                              ; 3d1d: 20 5d 1f
    lda #spriteid_cache2                                              ; 3d20: a9 cc
    sta object_erase_type + objectid_rope_end                         ; 3d22: 8d b4 38
    ldx #$1b                                                          ; 3d25: a2 1b
    lda #7                                                            ; 3d27: a9 07
    clc                                                               ; 3d29: 18
    adc l3ea9                                                         ; 3d2a: 6d a9 3e
    tay                                                               ; 3d2d: a8
    lda #spriteid_short_rope                                          ; 3d2e: a9 d9
loop_c3d30
    jsr draw_sprite_a_at_cell_xy                                      ; 3d30: 20 4c 1f
    dey                                                               ; 3d33: 88
    cpy #3                                                            ; 3d34: c0 03
    bcs loop_c3d30                                                    ; 3d36: b0 f8
    lda #spriteid_short_rope_end                                      ; 3d38: a9 de
    sta object_spriteid + 6                                           ; 3d3a: 8d ae 09
    lda #6                                                            ; 3d3d: a9 06
    jsr set_object_position_from_cell_xy                              ; 3d3f: 20 5d 1f
    lda #$c0                                                          ; 3d42: a9 c0
    sta object_z_order + 6                                            ; 3d44: 8d c8 38
    lda #spriteid_boulder                                             ; 3d47: a9 dd
    sta object_spriteid + 5                                           ; 3d49: 8d ad 09
    lda #5                                                            ; 3d4c: a9 05
    dex                                                               ; 3d4e: ca
    jsr set_object_position_from_cell_xy                              ; 3d4f: 20 5d 1f
    lda #$e0                                                          ; 3d52: a9 e0
    sta object_z_order + 5                                            ; 3d54: 8d c7 38
c3d57
    jmp c3df5                                                         ; 3d57: 4c f5 3d

c3d5a
    lda save_game_level_i_spell_progress                              ; 3d5a: ad 26 0a
    beq c3d69                                                         ; 3d5d: f0 0a
    cmp #$1f                                                          ; 3d5f: c9 1f
    beq c3d57                                                         ; 3d61: f0 f4
    inc save_game_level_i_spell_progress                              ; 3d63: ee 26 0a
    jmp c3db1                                                         ; 3d66: 4c b1 3d

c3d69
    lda desired_room_index                                            ; 3d69: a5 30
    cmp #2                                                            ; 3d6b: c9 02
    bne c3d57                                                         ; 3d6d: d0 e8
    lda player_using_object_spriteid                                  ; 3d6f: ad b6 2e
    cmp #spriteid_sword_menu_item                                     ; 3d72: c9 d1
    bne c3d57                                                         ; 3d74: d0 e1
    lda object_direction + objectid_player_accessory                  ; 3d76: ad bf 09
    bmi c3d88                                                         ; 3d79: 30 0d
    lda #1                                                            ; 3d7b: a9 01
    sta temp_right_offset                                             ; 3d7d: 8d d1 24
    lda #2                                                            ; 3d80: a9 02
    sta temp_left_offset                                              ; 3d82: 8d d0 24
    jmp c3d92                                                         ; 3d85: 4c 92 3d

c3d88
    lda #$ff                                                          ; 3d88: a9 ff
    sta temp_left_offset                                              ; 3d8a: 8d d0 24
    lda #$fe                                                          ; 3d8d: a9 fe
    sta temp_right_offset                                             ; 3d8f: 8d d1 24
c3d92
    ldx #objectid_player_accessory                                    ; 3d92: a2 01
    ldy #8                                                            ; 3d94: a0 08
    jsr test_for_collision_between_objects_x_and_y                    ; 3d96: 20 e2 28
    beq c3df5                                                         ; 3d99: f0 5a
    ldx #$0d                                                          ; 3d9b: a2 0d
    ldy #$13                                                          ; 3d9d: a0 13
    lda #1                                                            ; 3d9f: a9 01
    sta width_in_cells                                                ; 3da1: 85 3c
    lda #2                                                            ; 3da3: a9 02
    sta height_in_cells                                               ; 3da5: 85 3d
    lda #collision_map_none                                           ; 3da7: a9 00
    sta value_to_write_to_collision_map                               ; 3da9: 85 3e
    jsr write_value_to_a_rectangle_of_cells_in_collision_map          ; 3dab: 20 44 1e
    inc save_game_level_i_spell_progress                              ; 3dae: ee 26 0a
c3db1
    lda desired_room_index                                            ; 3db1: a5 30
    cmp #2                                                            ; 3db3: c9 02
    bne c3df5                                                         ; 3db5: d0 3e
    lda save_game_level_i_spell_progress                              ; 3db7: ad 26 0a
    beq c3df5                                                         ; 3dba: f0 39
    cmp #$0a                                                          ; 3dbc: c9 0a
    beq c3dd1                                                         ; 3dbe: f0 11
    bcc c3de6                                                         ; 3dc0: 90 24
    cmp #$1f                                                          ; 3dc2: c9 1f
    bne c3df5                                                         ; 3dc4: d0 2f
    lda object_spriteid + 4                                           ; 3dc6: ad ac 09
    beq c3df5                                                         ; 3dc9: f0 2a
    jsr play_landing_sound                                            ; 3dcb: 20 a9 23
    jmp c3df5                                                         ; 3dce: 4c f5 3d

c3dd1
    lda sound_priority_per_channel_table                              ; 3dd1: ad 6f 39
    cmp #$41 ; 'A'                                                    ; 3dd4: c9 41
    bcs c3de0                                                         ; 3dd6: b0 08
    lda #0                                                            ; 3dd8: a9 00
    sta sound_priority_per_channel_table                              ; 3dda: 8d 6f 39
    sta sound_priority_per_channel_table + 1                          ; 3ddd: 8d 70 39
c3de0
    jsr play_sounds34                                                 ; 3de0: 20 22 46
    jmp c3df5                                                         ; 3de3: 4c f5 3d

c3de6
    lda #$40 ; '@'                                                    ; 3de6: a9 40
    ldx #<sound1                                                      ; 3de8: a2 56
    ldy #>sound1                                                      ; 3dea: a0 46
    jsr play_sound_yx                                                 ; 3dec: 20 f6 38
    jmp c3df5                                                         ; 3def: 4c f5 3d

loop_c3df2
    jmp return1                                                       ; 3df2: 4c a8 3e

c3df5
    lda desired_room_index                                            ; 3df5: a5 30
    cmp #2                                                            ; 3df7: c9 02
    bne loop_c3df2                                                    ; 3df9: d0 f7
    lda save_game_level_i_spell_progress                              ; 3dfb: ad 26 0a
    ldx #$ff                                                          ; 3dfe: a2 ff
    cmp #$0a                                                          ; 3e00: c9 0a
    bcc c3e08                                                         ; 3e02: 90 04
    lda #$0a                                                          ; 3e04: a9 0a
    ldx #1                                                            ; 3e06: a2 01
c3e08
    sta l3ea9                                                         ; 3e08: 8d a9 3e
    stx object_direction + 3                                          ; 3e0b: 8e c1 09
    lda l3ea9                                                         ; 3e0e: ad a9 3e
    bne c3e3a                                                         ; 3e11: d0 27
    lda #spriteid_one_pixel_masked_out                                ; 3e13: a9 00
    sta object_spriteid + 7                                           ; 3e15: 8d af 09
    lda #spriteid_long_rope_end2                                      ; 3e18: a9 db
    sta object_spriteid + objectid_rope_end                           ; 3e1a: 8d b0 09
    ldx #$0d                                                          ; 3e1d: a2 0d
    ldy #$13                                                          ; 3e1f: a0 13
    lda #1                                                            ; 3e21: a9 01
    sta width_in_cells                                                ; 3e23: 85 3c
    lda #2                                                            ; 3e25: a9 02
    sta height_in_cells                                               ; 3e27: 85 3d
    lda #collision_map_rope                                           ; 3e29: a9 02
    sta value_to_write_to_collision_map                               ; 3e2b: 85 3e
    jsr read_collision_map_value_for_xy                               ; 3e2d: 20 fa 1e
    cmp value_to_write_to_collision_map                               ; 3e30: c5 3e
    beq c3e37                                                         ; 3e32: f0 03
    jsr write_value_to_a_rectangle_of_cells_in_collision_map          ; 3e34: 20 44 1e
c3e37
    jmp c3e59                                                         ; 3e37: 4c 59 3e

c3e3a
    lda #$12                                                          ; 3e3a: a9 12
    sec                                                               ; 3e3c: 38
    sbc l3ea9                                                         ; 3e3d: ed a9 3e
    tay                                                               ; 3e40: a8
    asl                                                               ; 3e41: 0a
    asl                                                               ; 3e42: 0a
    asl                                                               ; 3e43: 0a
    sta object_y_low + 7                                              ; 3e44: 8d 83 09
    lda #spriteid_rope_end                                            ; 3e47: a9 0a
    sta object_spriteid + 7                                           ; 3e49: 8d af 09
    lda #spriteid_rope_broken                                         ; 3e4c: a9 dc
    sta object_spriteid + objectid_rope_end                           ; 3e4e: 8d b0 09
    ldx #$0d                                                          ; 3e51: a2 0d
    iny                                                               ; 3e53: c8
    lda #0                                                            ; 3e54: a9 00
    jsr write_a_single_value_to_cell_in_collision_map                 ; 3e56: 20 bb 1e
c3e59
    lda l3ea9                                                         ; 3e59: ad a9 3e
    clc                                                               ; 3e5c: 18
    adc #8                                                            ; 3e5d: 69 08
    asl                                                               ; 3e5f: 0a
    asl                                                               ; 3e60: 0a
    asl                                                               ; 3e61: 0a
    ldx l3ea9                                                         ; 3e62: ae a9 3e
    cpx #$0a                                                          ; 3e65: e0 0a
    bcc c3e6c                                                         ; 3e67: 90 03
    clc                                                               ; 3e69: 18
    adc #4                                                            ; 3e6a: 69 04
c3e6c
    sta object_y_low + 6                                              ; 3e6c: 8d 82 09
    clc                                                               ; 3e6f: 18
    adc #8                                                            ; 3e70: 69 08
    sta object_y_low + 5                                              ; 3e72: 8d 81 09
    lda object_y_low + 6                                              ; 3e75: ad 82 09
    cmp object_y_low_old + 6                                          ; 3e78: cd 8d 09
    beq c3e82                                                         ; 3e7b: f0 05
    lda #spriteid_one_pixel_masked_out                                ; 3e7d: a9 00
    sta object_spriteid_old + 6                                       ; 3e7f: 8d b9 09
c3e82
    lda save_game_level_i_spell_progress                              ; 3e82: ad 26 0a
    cmp #$0a                                                          ; 3e85: c9 0a
    bcc return1                                                       ; 3e87: 90 1f
    sec                                                               ; 3e89: 38
    sbc #$0a                                                          ; 3e8a: e9 0a
    tax                                                               ; 3e8c: aa
    asl                                                               ; 3e8d: 0a
    asl                                                               ; 3e8e: 0a
    asl                                                               ; 3e8f: 0a
    sta l0070                                                         ; 3e90: 85 70
    lda #$f0                                                          ; 3e92: a9 f0
    sec                                                               ; 3e94: 38
    sbc l0070                                                         ; 3e95: e5 70
    sta object_x_low + 4                                              ; 3e97: 8d 54 09
    lda trajectory_y_coordinates_table,x                              ; 3e9a: bd 51 3c
    sta object_y_low + 4                                              ; 3e9d: 8d 80 09
    lda object_direction + 4                                          ; 3ea0: ad c2 09
    bpl return1                                                       ; 3ea3: 10 03
    inc object_x_low + 4                                              ; 3ea5: ee 54 09
return1
    rts                                                               ; 3ea8: 60

l3ea9
    !byte 0                                                           ; 3ea9: 00
; *************************************************************************************
; 
; Room 3 initialisation and game loop
; 
; *************************************************************************************
room_3_data
    !byte 20                                                          ; 3eaa: 14                      ; initial player X cell
    !byte 22                                                          ; 3eab: 16                      ; initial player Y cell

; ########################################
; ########################################
; #####   |     ###      ###     |   #####
; ####    |                      |    ####
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |     OOO              |     ###
; ###     |     OOO              |     ###
; ###     |     ###      ###     |     ###
; ###     |     ###      ###     |     ###
; ###     |     ###      ###     |     ###
; ###     |     ###      ###     |     ###
; ###     |     ############     |     ###
; ###     |     ############     |     ###
; ###     |       ########       |     ###
; ###     |                      |     ###
; ###     |                      |     ###
; ###     |           P          |     ###
; #####   |                      |   #####
; #####   |                      |   #####
; draw rectangles of ground fill rock with a 2x2 pattern. Also writes to the collision
; map.
; draw 255x2 rectangle at (0,0)
room_3_code
    ldx #0                                                            ; 3eac: a2 00
    ldy #0                                                            ; 3eae: a0 00
    lda #$ff                                                          ; 3eb0: a9 ff
    sta width_in_cells                                                ; 3eb2: 85 3c
    lda #2                                                            ; 3eb4: a9 02
    sta height_in_cells                                               ; 3eb6: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3eb8: 20 bb 1a
; draw 5x1 rectangle at (0,2)
    ldy #2                                                            ; 3ebb: a0 02
    lda #5                                                            ; 3ebd: a9 05
    sta width_in_cells                                                ; 3ebf: 85 3c
    dec height_in_cells                                               ; 3ec1: c6 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3ec3: 20 bb 1a
; draw 5x1 rectangle at (35,2)
    ldx #$23 ; '#'                                                    ; 3ec6: a2 23
    jsr copy_rectangle_of_memory_to_screen                            ; 3ec8: 20 bb 1a
; draw 4x1 rectangle at (0,3)
    ldx #0                                                            ; 3ecb: a2 00
    iny                                                               ; 3ecd: c8
    dec width_in_cells                                                ; 3ece: c6 3c
    jsr copy_rectangle_of_memory_to_screen                            ; 3ed0: 20 bb 1a
; draw 4x1 rectangle at (36,3)
    ldx #$24 ; '$'                                                    ; 3ed3: a2 24
    jsr copy_rectangle_of_memory_to_screen                            ; 3ed5: 20 bb 1a
; draw 3x18 rectangle at (0,4)
    ldx #0                                                            ; 3ed8: a2 00
    iny                                                               ; 3eda: c8
    dec width_in_cells                                                ; 3edb: c6 3c
    lda #$12                                                          ; 3edd: a9 12
    sta height_in_cells                                               ; 3edf: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3ee1: 20 bb 1a
; draw 3x18 rectangle at (37,4)
    ldx #$25 ; '%'                                                    ; 3ee4: a2 25
    jsr copy_rectangle_of_memory_to_screen                            ; 3ee6: 20 bb 1a
; draw 5x18 rectangle at (0,22)
    ldx #0                                                            ; 3ee9: a2 00
    ldy #$16                                                          ; 3eeb: a0 16
    lda #5                                                            ; 3eed: a9 05
    sta width_in_cells                                                ; 3eef: 85 3c
    jsr copy_rectangle_of_memory_to_screen                            ; 3ef1: 20 bb 1a
; draw 5x18 rectangle at (35,22)
    ldx #$23 ; '#'                                                    ; 3ef4: a2 23
    jsr copy_rectangle_of_memory_to_screen                            ; 3ef6: 20 bb 1a
; draw 3x1 rectangle at (14,2)
    ldx #$0e                                                          ; 3ef9: a2 0e
    ldy #2                                                            ; 3efb: a0 02
    lda #3                                                            ; 3efd: a9 03
    sta width_in_cells                                                ; 3eff: 85 3c
    lda #1                                                            ; 3f01: a9 01
    sta height_in_cells                                               ; 3f03: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3f05: 20 bb 1a
; draw 3x1 rectangle at (23,2)
    ldx #$17                                                          ; 3f08: a2 17
    jsr copy_rectangle_of_memory_to_screen                            ; 3f0a: 20 bb 1a
; draw 3x4 rectangle at (14,12)
    ldx #$0e                                                          ; 3f0d: a2 0e
    ldy #$0c                                                          ; 3f0f: a0 0c
    lda #4                                                            ; 3f11: a9 04
    sta height_in_cells                                               ; 3f13: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3f15: 20 bb 1a
; draw 3x4 rectangle at (23,12)
    ldx #$17                                                          ; 3f18: a2 17
    jsr copy_rectangle_of_memory_to_screen                            ; 3f1a: 20 bb 1a
; draw 12x2 rectangle at (14,16)
    ldx #$0e                                                          ; 3f1d: a2 0e
    ldy #$10                                                          ; 3f1f: a0 10
    lda #$0c                                                          ; 3f21: a9 0c
    sta width_in_cells                                                ; 3f23: 85 3c
    lda #2                                                            ; 3f25: a9 02
    sta height_in_cells                                               ; 3f27: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3f29: 20 bb 1a
; draw 8x1 rectangle at (16,18)
    ldx #$10                                                          ; 3f2c: a2 10
    ldy #$12                                                          ; 3f2e: a0 12
    lda #8                                                            ; 3f30: a9 08
    sta width_in_cells                                                ; 3f32: 85 3c
    dec height_in_cells                                               ; 3f34: c6 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 3f36: 20 bb 1a
; carve the floor, walls and ceiling into the rock
    jsr draw_floor_walls_and_ceiling_around_solid_rock                ; 3f39: 20 90 1b
; draw boulder at (14,10) of size (3x2)
    ldx #$0e                                                          ; 3f3c: a2 0e
    ldy #$0a                                                          ; 3f3e: a0 0a
    lda #3                                                            ; 3f40: a9 03
    sta width_in_cells                                                ; 3f42: 85 3c
    lda #2                                                            ; 3f44: a9 02
    sta height_in_cells                                               ; 3f46: 85 3d
    lda #spriteid_boulder                                             ; 3f48: a9 dd
    jsr draw_sprite_a_at_cell_xy_and_write_to_collision_map           ; 3f4a: 20 57 1f
; draw rope at (8,2) length 255
    ldx #8                                                            ; 3f4d: a2 08
    ldy #2                                                            ; 3f4f: a0 02
    lda #$ff                                                          ; 3f51: a9 ff
    jsr draw_rope                                                     ; 3f53: 20 b9 1d
; draw rope at (31,2) length 255
    ldx #$1f                                                          ; 3f56: a2 1f
    jsr draw_rope                                                     ; 3f58: 20 b9 1d
    jsr start_room                                                    ; 3f5b: 20 bb 12
room_3_game_update_loop
    jsr game_update                                                   ; 3f5e: 20 da 12
    and #exit_room_bottom                                             ; 3f61: 29 02
    beq room_3_game_update_loop                                       ; 3f63: f0 f9
    ldx #1                                                            ; 3f65: a2 01
    ldy current_level                                                 ; 3f67: a4 31
    jmp initialise_level_and_room                                     ; 3f69: 4c 40 11

big_stone_top_seesaw_animation
    !byte 0, 0                                                        ; 3f6c: 00 00
    !byte 248,   0                                                    ; 3f6e: f8 00
    !byte 241,   0                                                    ; 3f70: f1 00
    !byte 235,   6                                                    ; 3f72: eb 06
    !byte 233,  16                                                    ; 3f74: e9 10
    !byte 232,  27                                                    ; 3f76: e8 1b
small_stone_top_seesaw_animation
    !byte  0, 62                                                      ; 3f78: 00 3e
    !byte  2, 51                                                      ; 3f7a: 02 33
    !byte  8, 40                                                      ; 3f7c: 08 28
    !byte 16, 29                                                      ; 3f7e: 10 1d
    !byte 24, 22                                                      ; 3f80: 18 16
    !byte 32, 16                                                      ; 3f82: 20 10
    !byte 40, 11                                                      ; 3f84: 28 0b
    !byte 48,  9                                                      ; 3f86: 30 09
    !byte 56,  7                                                      ; 3f88: 38 07
    !byte 64,  6                                                      ; 3f8a: 40 06
    !byte 72,  7                                                      ; 3f8c: 48 07
    !byte 80,  9                                                      ; 3f8e: 50 09
    !byte 88, 11                                                      ; 3f90: 58 0b
    !byte 96, 16                                                      ; 3f92: 60 10
    !byte 104,  22                                                    ; 3f94: 68 16
    !byte 112,  29                                                    ; 3f96: 70 1d
    !byte 120,  40                                                    ; 3f98: 78 28
    !byte 126,  51                                                    ; 3f9a: 7e 33
    !byte 131,  64                                                    ; 3f9c: 83 40
    !byte 135,  80                                                    ; 3f9e: 87 50
    !byte 138,  96                                                    ; 3fa0: 8a 60
    !byte 140, 115                                                    ; 3fa2: 8c 73

; check for first update in room (branch if not)
update_top_seesaw_puzzle
    lda update_room_first_update_flag                                 ; 3fa4: ad 2b 13
    beq c3fe8                                                         ; 3fa7: f0 3f
; check for level change (branch if not)
    lda current_level                                                 ; 3fa9: a5 31
    cmp level_before_latest_level_and_room_initialisation             ; 3fab: c5 51
    beq c3fbd                                                         ; 3fad: f0 0e
    lda save_game_level_i_top_seesaw_puzzle_progress                  ; 3faf: ad 2f 0a
    beq c3fbd                                                         ; 3fb2: f0 09
    cmp #$ff                                                          ; 3fb4: c9 ff
    beq c3fbd                                                         ; 3fb6: f0 05
    lda #$19                                                          ; 3fb8: a9 19
    sta save_game_level_i_top_seesaw_puzzle_progress                  ; 3fba: 8d 2f 0a
c3fbd
    lda desired_room_index                                            ; 3fbd: a5 30
    cmp #3                                                            ; 3fbf: c9 03
    bne c3fe5                                                         ; 3fc1: d0 22
    lda #spriteid_cache2                                              ; 3fc3: a9 cc
    sta object_erase_type + objectid_big_stone_room_3                 ; 3fc5: 8d b0 38
    lda #$e0                                                          ; 3fc8: a9 e0
    sta object_z_order + objectid_big_stone_room_3                    ; 3fca: 8d c6 38
    lda #spriteid_big_stone                                           ; 3fcd: a9 cb
    sta object_spriteid + objectid_big_stone_room_3                   ; 3fcf: 8d ac 09
    lda #spriteid_cache3                                              ; 3fd2: a9 cd
    sta object_erase_type + 3                                         ; 3fd4: 8d af 38
    ldx #$14                                                          ; 3fd7: a2 14
    ldy #$10                                                          ; 3fd9: a0 10
    lda #3                                                            ; 3fdb: a9 03
    jsr set_object_position_from_cell_xy                              ; 3fdd: 20 5d 1f
    lda #spriteid_seesaw                                              ; 3fe0: a9 ce
    sta object_spriteid + 3                                           ; 3fe2: 8d ab 09
c3fe5
    jmp c4045                                                         ; 3fe5: 4c 45 40

c3fe8
    lda save_game_level_i_top_seesaw_puzzle_progress                  ; 3fe8: ad 2f 0a
    beq c400f                                                         ; 3feb: f0 22
    cmp #$19                                                          ; 3fed: c9 19
    beq c4024                                                         ; 3fef: f0 33
    cmp #$ff                                                          ; 3ff1: c9 ff
    beq c4045                                                         ; 3ff3: f0 50
    inc save_game_level_i_top_seesaw_puzzle_progress                  ; 3ff5: ee 2f 0a
    lda desired_room_index                                            ; 3ff8: a5 30
    cmp #3                                                            ; 3ffa: c9 03
    bne c4045                                                         ; 3ffc: d0 47
    lda save_game_level_i_top_seesaw_puzzle_progress                  ; 3ffe: ad 2f 0a
    cmp #5                                                            ; 4001: c9 05
    beq c4009                                                         ; 4003: f0 04
    cmp #$19                                                          ; 4005: c9 19
    bne c4045                                                         ; 4007: d0 3c
c4009
    jsr play_landing_sound                                            ; 4009: 20 a9 23
    jmp c4045                                                         ; 400c: 4c 45 40

c400f
    lda desired_room_index                                            ; 400f: a5 30
    cmp #3                                                            ; 4011: c9 03
    bne c4045                                                         ; 4013: d0 30
    ldx #objectid_old_player                                          ; 4015: a2 0b
    ldy #4                                                            ; 4017: a0 04
    jsr test_for_collision_between_objects_x_and_y                    ; 4019: 20 e2 28
    beq c4045                                                         ; 401c: f0 27
    inc save_game_level_i_top_seesaw_puzzle_progress                  ; 401e: ee 2f 0a
    jmp c4045                                                         ; 4021: 4c 45 40

c4024
    lda desired_room_index                                            ; 4024: a5 30
    cmp #3                                                            ; 4026: c9 03
    bne c4045                                                         ; 4028: d0 1b
    ldx #objectid_old_player                                          ; 402a: a2 0b
    ldy #2                                                            ; 402c: a0 02
    jsr test_for_collision_between_objects_x_and_y                    ; 402e: 20 e2 28
    beq c4045                                                         ; 4031: f0 12
    lda #spriteid_stone_menu_item                                     ; 4033: a9 ca
    jsr find_or_create_menu_slot_for_A                                ; 4035: 20 bd 2b
    lda #$ff                                                          ; 4038: a9 ff
    sta save_game_level_i_top_seesaw_puzzle_progress                  ; 403a: 8d 2f 0a
    sta save_game_level_i_left_seesaw_puzzle_progress                 ; 403d: 8d 24 0a
    lda #spriteid_one_pixel_masked_out                                ; 4040: a9 00
    sta object_spriteid + 2                                           ; 4042: 8d aa 09
c4045
    lda desired_room_index                                            ; 4045: a5 30
    cmp #3                                                            ; 4047: c9 03
    bne return2                                                       ; 4049: d0 76
    lda #1                                                            ; 404b: a9 01
    sta object_direction + objectid_seesaw                            ; 404d: 8d c1 09
    ldx save_game_level_i_top_seesaw_puzzle_progress                  ; 4050: ae 2f 0a
    ldy #0                                                            ; 4053: a0 00
    cpx #5                                                            ; 4055: e0 05
    bcc c4068                                                         ; 4057: 90 0f
    lda #$ff                                                          ; 4059: a9 ff
    sta object_direction + objectid_seesaw                            ; 405b: 8d c1 09
    ldx #5                                                            ; 405e: a2 05
    lda save_game_level_i_top_seesaw_puzzle_progress                  ; 4060: ad 2f 0a
    sec                                                               ; 4063: 38
    sbc #5                                                            ; 4064: e9 05
    tay                                                               ; 4066: a8
    iny                                                               ; 4067: c8
c4068
    txa                                                               ; 4068: 8a
    asl                                                               ; 4069: 0a
    tax                                                               ; 406a: aa
    lda big_stone_top_seesaw_animation,x                              ; 406b: bd 6c 3f
    clc                                                               ; 406e: 18
    adc #$c4                                                          ; 406f: 69 c4
    sta object_x_low + objectid_big_stone_room_3                      ; 4071: 8d 54 09
    inx                                                               ; 4074: e8
    lda big_stone_top_seesaw_animation,x                              ; 4075: bd 6c 3f
    dex                                                               ; 4078: ca
    clc                                                               ; 4079: 18
    adc #$5e ; '^'                                                    ; 407a: 69 5e
    sta object_y_low + objectid_big_stone_room_3                      ; 407c: 8d 80 09
    ldx #$18                                                          ; 407f: a2 18
    sty l4621                                                         ; 4081: 8c 21 46
    ldy #$0b                                                          ; 4084: a0 0b
    lda #3                                                            ; 4086: a9 03
    jsr write_a_single_value_to_cell_in_collision_map                 ; 4088: 20 bb 1e
    ldy l4621                                                         ; 408b: ac 21 46
    lda save_game_level_i_top_seesaw_puzzle_progress                  ; 408e: ad 2f 0a
    cmp #$ff                                                          ; 4091: c9 ff
    beq return2                                                       ; 4093: f0 2c
; position small stone to be animated. Animation step Y.
    lda #spriteid_erase_small_stone                                   ; 4095: a9 c9
    sta object_erase_type + objectid_small_stone_object               ; 4097: 8d ae 38
    lda #$a0                                                          ; 409a: a9 a0
    sta object_z_order + objectid_small_stone_object                  ; 409c: 8d c4 38
    lda #spriteid_small_stone                                         ; 409f: a9 c8
    sta object_spriteid + objectid_small_stone_object                 ; 40a1: 8d aa 09
    tya                                                               ; 40a4: 98
    asl                                                               ; 40a5: 0a
    tay                                                               ; 40a6: a8
    lda small_stone_top_seesaw_animation,y                            ; 40a7: b9 78 3f
    clc                                                               ; 40aa: 18
    adc #$90                                                          ; 40ab: 69 90
    sta object_x_low + objectid_small_stone_object                    ; 40ad: 8d 52 09
    lda #0                                                            ; 40b0: a9 00
    adc #0                                                            ; 40b2: 69 00
    sta object_x_high + objectid_small_stone_object                   ; 40b4: 8d 68 09
    iny                                                               ; 40b7: c8
    lda small_stone_top_seesaw_animation,y                            ; 40b8: b9 78 3f
    clc                                                               ; 40bb: 18
    adc #$38 ; '8'                                                    ; 40bc: 69 38
    sta object_y_low + objectid_small_stone_object                    ; 40be: 8d 7e 09
return2
    rts                                                               ; 40c1: 60

sub_c40c2
    ldx #0                                                            ; 40c2: a2 00
    ldy #0                                                            ; 40c4: a0 00
    lda #$ff                                                          ; 40c6: a9 ff
    sta width_in_cells                                                ; 40c8: 85 3c
    lda #2                                                            ; 40ca: a9 02
    sta height_in_cells                                               ; 40cc: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 40ce: 20 bb 1a
    ldy #$16                                                          ; 40d1: a0 16
    jmp copy_rectangle_of_memory_to_screen                            ; 40d3: 4c bb 1a

; *************************************************************************************
; 
; Room 0 initialisation and game loop
; 
; *************************************************************************************
room_0_data
    !byte 31                                                          ; 40d6: 1f                      ; initial player X cell
    !byte 21                                                          ; 40d7: 15                      ; initial player Y cell

; ########################################
; ########################################
; #####
; ####
; ###
; ###          OOO         OOO
; ###          OOO         OOO
; ###          ###############         ###
; ###          ###############         ###
; ###          ###                     ###
; ###          ###                     ###
; ###          ###                     ###
; ###          ###                     ###
; ###          ###                     ###
; ###          ###                     ###
; ###          ###                     ###
; ###          ###                     ###
; ###          ###
; ###          ###         ###
; ###          ###         ###
; ###          ###         ###   P
; ###          ###         ########
; ########################################
; ########################################
; draw rectangles of ground fill rock with a 2x2 pattern. Also writes to the collision
; map.
room_0_code
    jsr sub_c40c2                                                     ; 40d8: 20 c2 40
; draw 5x1 rectangle at (0,2)
    ldy #2                                                            ; 40db: a0 02
    lda #5                                                            ; 40dd: a9 05
    sta width_in_cells                                                ; 40df: 85 3c
    dec height_in_cells                                               ; 40e1: c6 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 40e3: 20 bb 1a
; draw 4x1 rectangle at (0,3)
    iny                                                               ; 40e6: c8
    dec width_in_cells                                                ; 40e7: c6 3c
    jsr copy_rectangle_of_memory_to_screen                            ; 40e9: 20 bb 1a
; draw 3x18 rectangle at (0,4)
    iny                                                               ; 40ec: c8
    dec width_in_cells                                                ; 40ed: c6 3c
    lda #$12                                                          ; 40ef: a9 12
    sta height_in_cells                                               ; 40f1: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 40f3: 20 bb 1a
; draw 3x10 rectangle at (37,7)
    ldx #$25 ; '%'                                                    ; 40f6: a2 25
    ldy #7                                                            ; 40f8: a0 07
    lda #$0a                                                          ; 40fa: a9 0a
    sta height_in_cells                                               ; 40fc: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 40fe: 20 bb 1a
; draw 15x2 rectangle at (13,7)
    ldx #$0d                                                          ; 4101: a2 0d
    ldy #7                                                            ; 4103: a0 07
    lda #$0f                                                          ; 4105: a9 0f
    sta width_in_cells                                                ; 4107: 85 3c
    lda #2                                                            ; 4109: a9 02
    sta height_in_cells                                               ; 410b: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 410d: 20 bb 1a
; draw 3x13 rectangle at (13,9)
    ldy #9                                                            ; 4110: a0 09
    lda #3                                                            ; 4112: a9 03
    sta width_in_cells                                                ; 4114: 85 3c
    lda #$0d                                                          ; 4116: a9 0d
    sta height_in_cells                                               ; 4118: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 411a: 20 bb 1a
; draw 3x4 rectangle at (25,18)
    ldx #$19                                                          ; 411d: a2 19
    ldy #$12                                                          ; 411f: a0 12
    lda #4                                                            ; 4121: a9 04
    sta height_in_cells                                               ; 4123: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 4125: 20 bb 1a
; draw 5x1 rectangle at (28,21)
    ldx #$1c                                                          ; 4128: a2 1c
    ldy #$15                                                          ; 412a: a0 15
    lda #5                                                            ; 412c: a9 05
    sta width_in_cells                                                ; 412e: 85 3c
    lda #1                                                            ; 4130: a9 01
    sta height_in_cells                                               ; 4132: 85 3d
    jsr copy_rectangle_of_memory_to_screen                            ; 4134: 20 bb 1a
; carve the floor, walls and ceiling into the rock
    jsr draw_floor_walls_and_ceiling_around_solid_rock                ; 4137: 20 90 1b
; draw boulder at (13,5) of size (3x2)
    lda #3                                                            ; 413a: a9 03
    sta width_in_cells                                                ; 413c: 85 3c
    lda #2                                                            ; 413e: a9 02
    sta height_in_cells                                               ; 4140: 85 3d
    ldx #$0d                                                          ; 4142: a2 0d
    ldy #5                                                            ; 4144: a0 05
    lda #spriteid_boulder                                             ; 4146: a9 dd
    jsr draw_sprite_a_at_cell_xy_and_write_to_collision_map           ; 4148: 20 57 1f
; draw boulder at (25,5) of size (3x2)
    ldx #$19                                                          ; 414b: a2 19
    jsr draw_sprite_a_at_cell_xy_and_write_to_collision_map           ; 414d: 20 57 1f
    jsr sub_c42fa                                                     ; 4150: 20 fa 42
    jsr start_room                                                    ; 4153: 20 bb 12
room_0_game_update_loop
    jsr game_update                                                   ; 4156: 20 da 12
    and #exit_room_right                                              ; 4159: 29 04
    beq room_0_game_update_loop                                       ; 415b: f0 f9
    ldx #1                                                            ; 415d: a2 01
    ldy current_level                                                 ; 415f: a4 31
    jmp initialise_level_and_room                                     ; 4161: 4c 40 11

l4164
    !byte 0, 0                                                        ; 4164: 00 00
    !byte $f8,   0                                                    ; 4166: f8 00
    !byte $f1,   0                                                    ; 4168: f1 00
    !byte $eb,   2                                                    ; 416a: eb 02
    !byte $e5,   6                                                    ; 416c: e5 06
    !byte $e0, $0c                                                    ; 416e: e0 0c
    !byte $dd, $13                                                    ; 4170: dd 13
    !byte $dc, $1b                                                    ; 4172: dc 1b
l4174
    !byte   4, $48                                                    ; 4174: 04 48
    !byte $0b, $3e                                                    ; 4176: 0b 3e
    !byte $14, $2f                                                    ; 4178: 14 2f
    !byte $1d, $25                                                    ; 417a: 1d 25
    !byte $26, $1e                                                    ; 417c: 26 1e
    !byte $2f, $19                                                    ; 417e: 2f 19
    !byte $38, $14                                                    ; 4180: 38 14
    !byte $41, $10                                                    ; 4182: 41 10
    !byte $4a, $0c                                                    ; 4184: 4a 0c
    !byte $53, $0a                                                    ; 4186: 53 0a
    !byte $5c,   8                                                    ; 4188: 5c 08
    !byte $65,   7                                                    ; 418a: 65 07
    !byte $6f,   6                                                    ; 418c: 6f 06
    !byte $79,   5                                                    ; 418e: 79 05
    !byte $83,   5                                                    ; 4190: 83 05
    !byte $8d,   5                                                    ; 4192: 8d 05
l4194
    !byte $0a, $f6                                                    ; 4194: 0a f6
    !byte $f5, $f4                                                    ; 4196: f5 f4
    !byte $f3, $0d                                                    ; 4198: f3 0d
    !byte $0c, $0b                                                    ; 419a: 0c 0b
    !byte $0a, $f6                                                    ; 419c: 0a f6
    !byte $f5, $f4                                                    ; 419e: f5 f4
    !byte $f3, $0d                                                    ; 41a0: f3 0d
    !byte $0c, $0b                                                    ; 41a2: 0c 0b

; check for first update in room (branch if not)
update_sword_puzzle
    lda update_room_first_update_flag                                 ; 41a4: ad 2b 13
    beq c420a                                                         ; 41a7: f0 61
    lda #spriteid_sword_menu_item                                     ; 41a9: a9 d1
    sta toolbar_collectable_spriteids+2                               ; 41ab: 8d ea 2e
    lda #spriteid_sword                                               ; 41ae: a9 d0
    sta collectable_spriteids+2                                       ; 41b0: 8d ef 2e
    sta collectable_being_used_spriteids + 2                          ; 41b3: 8d f4 2e
; check for level change (branch if not)
    lda current_level                                                 ; 41b6: a5 31
    cmp level_before_latest_level_and_room_initialisation             ; 41b8: c5 51
    beq c41ca                                                         ; 41ba: f0 0e
    lda save_game_level_i_sword_progress                              ; 41bc: ad 25 0a
    beq c41ca                                                         ; 41bf: f0 09
    cmp #$ff                                                          ; 41c1: c9 ff
    beq c41ca                                                         ; 41c3: f0 05
    lda #$15                                                          ; 41c5: a9 15
    sta save_game_level_i_sword_progress                              ; 41c7: 8d 25 0a
c41ca
    lda desired_room_index                                            ; 41ca: a5 30
    cmp #0                                                            ; 41cc: c9 00
    bne c4207                                                         ; 41ce: d0 37
    ldx #<envelope3                                                   ; 41d0: a2 32
    ldy #>envelope3                                                   ; 41d2: a0 46
    jsr define_envelope                                               ; 41d4: 20 5e 39
    lda #spriteid_cache2                                              ; 41d7: a9 cc
    sta object_erase_type + 5                                         ; 41d9: 8d b1 38
    lda #$e0                                                          ; 41dc: a9 e0
    sta object_z_order + 5                                            ; 41de: 8d c7 38
    lda #spriteid_big_stone                                           ; 41e1: a9 cb
    sta object_spriteid + objectid_big_stone_room_0                   ; 41e3: 8d ad 09
    lda #spriteid_cache3                                              ; 41e6: a9 cd
    sta object_erase_type + objectid_seesaw                           ; 41e8: 8d af 38
    ldx #$14                                                          ; 41eb: a2 14
    lda #4                                                            ; 41ed: a9 04
    sta temp_sprite_x_offset                                          ; 41ef: 85 3a
    ldy #$16                                                          ; 41f1: a0 16
    lda #objectid_seesaw                                              ; 41f3: a9 03
    jsr set_object_position_from_cell_xy                              ; 41f5: 20 5d 1f
    lda #spriteid_seesaw                                              ; 41f8: a9 ce
    sta object_spriteid + objectid_seesaw                             ; 41fa: 8d ab 09
    lda #spriteid_cache4                                              ; 41fd: a9 cf
    sta object_erase_type + 4                                         ; 41ff: 8d b0 38
    lda #$c0                                                          ; 4202: a9 c0
    sta object_z_order + 4                                            ; 4204: 8d c6 38
c4207
    jmp c426c                                                         ; 4207: 4c 6c 42

c420a
    lda save_game_level_i_sword_progress                              ; 420a: ad 25 0a
    beq c423e                                                         ; 420d: f0 2f
    cmp #$15                                                          ; 420f: c9 15
    beq c4253                                                         ; 4211: f0 40
    cmp #$ff                                                          ; 4213: c9 ff
    beq c426c                                                         ; 4215: f0 55
    inc save_game_level_i_sword_progress                              ; 4217: ee 25 0a
    lda desired_room_index                                            ; 421a: a5 30
    cmp #0                                                            ; 421c: c9 00
    bne c426c                                                         ; 421e: d0 4c
    lda save_game_level_i_sword_progress                              ; 4220: ad 25 0a
    cmp #7                                                            ; 4223: c9 07
    bne c422d                                                         ; 4225: d0 06
    jsr play_landing_sound                                            ; 4227: 20 a9 23
    jmp c426c                                                         ; 422a: 4c 6c 42

c422d
    lda save_game_level_i_sword_progress                              ; 422d: ad 25 0a
    cmp #$15                                                          ; 4230: c9 15
    bne c426c                                                         ; 4232: d0 38
    ldx #<sound2                                                      ; 4234: a2 40
    ldy #>sound2                                                      ; 4236: a0 46
    jsr play_sound_yx                                                 ; 4238: 20 f6 38
    jmp c426c                                                         ; 423b: 4c 6c 42

c423e
    lda desired_room_index                                            ; 423e: a5 30
    cmp #0                                                            ; 4240: c9 00
    bne c426c                                                         ; 4242: d0 28
    ldx #$0d                                                          ; 4244: a2 0d
    ldy #5                                                            ; 4246: a0 05
    jsr test_for_collision_between_objects_x_and_y                    ; 4248: 20 e2 28
    beq c426c                                                         ; 424b: f0 1f
    inc save_game_level_i_sword_progress                              ; 424d: ee 25 0a
    jmp c426c                                                         ; 4250: 4c 6c 42

c4253
    lda desired_room_index                                            ; 4253: a5 30
    cmp #0                                                            ; 4255: c9 00
    bne c426c                                                         ; 4257: d0 13
    ldx #objectid_old_player                                          ; 4259: a2 0b
    ldy #4                                                            ; 425b: a0 04
    jsr test_for_collision_between_objects_x_and_y                    ; 425d: 20 e2 28
    beq c426c                                                         ; 4260: f0 0a
    lda #spriteid_sword_menu_item                                     ; 4262: a9 d1
    jsr find_or_create_menu_slot_for_A                                ; 4264: 20 bd 2b
    lda #$ff                                                          ; 4267: a9 ff
    sta save_game_level_i_sword_progress                              ; 4269: 8d 25 0a
c426c
    lda desired_room_index                                            ; 426c: a5 30
    cmp #0                                                            ; 426e: c9 00
    beq c4275                                                         ; 4270: f0 03
    jmp return3                                                       ; 4272: 4c f9 42

c4275
    lda #1                                                            ; 4275: a9 01
    sta object_direction + 3                                          ; 4277: 8d c1 09
    ldx save_game_level_i_sword_progress                              ; 427a: ae 25 0a
    ldy #0                                                            ; 427d: a0 00
    cpx #7                                                            ; 427f: e0 07
    bcc c4292                                                         ; 4281: 90 0f
    lda #$ff                                                          ; 4283: a9 ff
    sta object_direction + 3                                          ; 4285: 8d c1 09
    ldx #7                                                            ; 4288: a2 07
    lda save_game_level_i_sword_progress                              ; 428a: ad 25 0a
    sec                                                               ; 428d: 38
    sbc #7                                                            ; 428e: e9 07
    tay                                                               ; 4290: a8
    iny                                                               ; 4291: c8
c4292
    txa                                                               ; 4292: 8a
    asl                                                               ; 4293: 0a
    tax                                                               ; 4294: aa
    lda l4164,x                                                       ; 4295: bd 64 41
    clc                                                               ; 4298: 18
    adc #$d4                                                          ; 4299: 69 d4
    sta object_x_low + 5                                              ; 429b: 8d 55 09
    inx                                                               ; 429e: e8
    lda l4164,x                                                       ; 429f: bd 64 41
    dex                                                               ; 42a2: ca
    clc                                                               ; 42a3: 18
    adc #$8e                                                          ; 42a4: 69 8e
    sta object_y_low + 5                                              ; 42a6: 8d 81 09
    tya                                                               ; 42a9: 98
    pha                                                               ; 42aa: 48
    jsr sub_c42fa                                                     ; 42ab: 20 fa 42
    pla                                                               ; 42ae: 68
    tay                                                               ; 42af: a8
    lda #spriteid_one_pixel_masked_out                                ; 42b0: a9 00
    sta object_spriteid + 4                                           ; 42b2: 8d ac 09
    lda save_game_level_i_sword_progress                              ; 42b5: ad 25 0a
    cmp #$ff                                                          ; 42b8: c9 ff
    beq return3                                                       ; 42ba: f0 3d
    lda l4194,y                                                       ; 42bc: b9 94 41
    bmi c42cf                                                         ; 42bf: 30 0e
    clc                                                               ; 42c1: 18
    adc #spriteid_small_stone                                         ; 42c2: 69 c8
    sta object_spriteid + 4                                           ; 42c4: 8d ac 09
    lda #1                                                            ; 42c7: a9 01
    sta object_direction + 4                                          ; 42c9: 8d c2 09
    jmp c42dc                                                         ; 42cc: 4c dc 42

c42cf
    eor #$ff                                                          ; 42cf: 49 ff
    sec                                                               ; 42d1: 38
    adc #spriteid_small_stone                                         ; 42d2: 69 c8
    sta object_spriteid + 4                                           ; 42d4: 8d ac 09
    lda #$ff                                                          ; 42d7: a9 ff
    sta object_direction + 4                                          ; 42d9: 8d c2 09
c42dc
    tya                                                               ; 42dc: 98
    asl                                                               ; 42dd: 0a
    tay                                                               ; 42de: a8
    lda l4174,y                                                       ; 42df: b9 74 41
    clc                                                               ; 42e2: 18
    adc #$90                                                          ; 42e3: 69 90
    sta object_x_low + 4                                              ; 42e5: 8d 54 09
    lda #0                                                            ; 42e8: a9 00
    adc #0                                                            ; 42ea: 69 00
    sta object_x_high + 4                                             ; 42ec: 8d 6a 09
    iny                                                               ; 42ef: c8
    lda l4174,y                                                       ; 42f0: b9 74 41
    clc                                                               ; 42f3: 18
    adc #$58 ; 'X'                                                    ; 42f4: 69 58
    sta object_y_low + 4                                              ; 42f6: 8d 80 09
return3
    rts                                                               ; 42f9: 60

sub_c42fa
    lda #3                                                            ; 42fa: a9 03
    ldx save_game_level_i_sword_progress                              ; 42fc: ae 25 0a
    cpx #4                                                            ; 42ff: e0 04
    bcc c4305                                                         ; 4301: 90 02
    lda #0                                                            ; 4303: a9 00
c4305
    ldx #$1a                                                          ; 4305: a2 1a
    ldy #$11                                                          ; 4307: a0 11
    jsr write_a_single_value_to_cell_in_collision_map                 ; 4309: 20 bb 1e
    rts                                                               ; 430c: 60

small_stone_left_seesaw_animations
    !byte 0                                                           ; 430d: 00
small_stone_left_seesaw_animation1
    !byte 0, 0                                                        ; 430e: 00 00
    !byte   8, $f8                                                    ; 4310: 08 f8
    !byte   6, $fa                                                    ; 4312: 06 fa
    !byte   6, $fc                                                    ; 4314: 06 fc
    !byte   6, $fe                                                    ; 4316: 06 fe
    !byte   6, $ff                                                    ; 4318: 06 ff
    !byte $80                                                         ; 431a: 80
small_stone_left_seesaw_animation2
    !byte 6, 1                                                        ; 431b: 06 01
    !byte 6, 2                                                        ; 431d: 06 02
    !byte 6, 4                                                        ; 431f: 06 04
    !byte 6, 6                                                        ; 4321: 06 06
    !byte 4, 8                                                        ; 4323: 04 08
    !byte 2, 8                                                        ; 4325: 02 08
    !byte $80                                                         ; 4327: 80
small_stone_left_seesaw_animation3
    !byte 0, 8                                                        ; 4328: 00 08
    !byte $80                                                         ; 432a: 80
small_stone_left_seesaw_animation4
    !byte 0, 0                                                        ; 432b: 00 00
    !byte $80                                                         ; 432d: 80
small_stone_left_seesaw_animation5
    !byte 4, 2                                                        ; 432e: 04 02
    !byte 3, 3                                                        ; 4330: 03 03
    !byte 2, 4                                                        ; 4332: 02 04
    !byte 1, 6                                                        ; 4334: 01 06
    !byte $80                                                         ; 4336: 80

; check for first update in room (branch if so)
update_left_seesaw_puzzle
    lda update_room_first_update_flag                                 ; 4337: ad 2b 13
    bne update_left_seesaw_puzzle_not_first_update                    ; 433a: d0 03
    jmp update_left_seesaw_puzzle_first_update                        ; 433c: 4c 98 43

update_left_seesaw_puzzle_not_first_update
    lda #spriteid_stone_menu_item                                     ; 433f: a9 ca
    sta toolbar_collectable_spriteids+1                               ; 4341: 8d e9 2e
    lda #spriteid_small_stone                                         ; 4344: a9 c8
    sta collectable_spriteids+1                                       ; 4346: 8d ee 2e
    sta collectable_being_used_spriteids + 1                          ; 4349: 8d f3 2e
; check for level change (branch if not)
    lda current_level                                                 ; 434c: a5 31
    cmp level_before_latest_level_and_room_initialisation             ; 434e: c5 51
    beq c4365                                                         ; 4350: f0 13
    lda #0                                                            ; 4352: a9 00
    sta level_workspace                                               ; 4354: 8d 6f 0a
    lda save_game_level_i_left_seesaw_puzzle_progress                 ; 4357: ad 24 0a
    beq c4365                                                         ; 435a: f0 09
    bmi c4365                                                         ; 435c: 30 07
    cmp #small_stone_left_seesaw_animation4 - small_stone_left_seesaw_animations; 435e: c9 1e
    beq c4365                                                         ; 4360: f0 03
    dec level_workspace                                               ; 4362: ce 6f 0a
c4365
    lda desired_room_index                                            ; 4365: a5 30
    cmp save_game_level_i_small_stone_room                            ; 4367: cd 2d 0a
    bne c4390                                                         ; 436a: d0 24
    lda save_game_level_i_left_seesaw_puzzle_progress                 ; 436c: ad 24 0a
    beq c4390                                                         ; 436f: f0 1f
    bmi c4390                                                         ; 4371: 30 1d
    jsr set_small_stone_object                                        ; 4373: 20 f0 45
loop_c4376
    lda desired_room_index                                            ; 4376: a5 30
    cmp save_game_level_i_small_stone_room                            ; 4378: cd 2d 0a
    bne c4390                                                         ; 437b: d0 13
    lda level_workspace                                               ; 437d: ad 6f 0a
    beq c4390                                                         ; 4380: f0 0e
    dec level_workspace                                               ; 4382: ce 6f 0a
    ldx #2                                                            ; 4385: a2 02
    jsr copy_object_state_to_old                                      ; 4387: 20 f7 20
    jsr sub_c449d                                                     ; 438a: 20 9d 44
    jmp loop_c4376                                                    ; 438d: 4c 76 43

c4390
    lda #spriteid_one_pixel_masked_out                                ; 4390: a9 00
    sta object_spriteid_old + 2                                       ; 4392: 8d b5 09
return4_local
    jmp return4                                                       ; 4395: 4c 9c 44

update_left_seesaw_puzzle_first_update
    lda #0                                                            ; 4398: a9 00
    sta l461e                                                         ; 439a: 8d 1e 46
    lda player_held_object_spriteid                                   ; 439d: a5 52
    sta l461f                                                         ; 439f: 8d 1f 46
    lda object_spriteid_old + 2                                       ; 43a2: ad b5 09
    sta l4620                                                         ; 43a5: 8d 20 46
    lda save_game_level_i_left_seesaw_puzzle_progress                 ; 43a8: ad 24 0a
    beq return4_local                                                 ; 43ab: f0 e8
    bmi left_seesaw_puzzle_done                                       ; 43ad: 30 12
    lda desired_room_index                                            ; 43af: a5 30
    cmp save_game_level_i_small_stone_room                            ; 43b1: cd 2d 0a
    beq c440a                                                         ; 43b4: f0 54
    lda level_workspace                                               ; 43b6: ad 6f 0a
    bmi return4_local                                                 ; 43b9: 30 da
    inc level_workspace                                               ; 43bb: ee 6f 0a
    jmp return4                                                       ; 43be: 4c 9c 44

left_seesaw_puzzle_done
    lda #spriteid_stone_menu_item                                     ; 43c1: a9 ca
    cmp player_using_object_spriteid                                  ; 43c3: cd b6 2e
    bne return4_local                                                 ; 43c6: d0 cd
    cmp previous_player_using_object_spriteid                         ; 43c8: cd b7 2e
    beq return4_local                                                 ; 43cb: f0 c8
    dec l461e                                                         ; 43cd: ce 1e 46
    lda desired_room_index                                            ; 43d0: a5 30
    sta save_game_level_i_small_stone_room                            ; 43d2: 8d 2d 0a
    lda object_direction                                              ; 43d5: ad be 09
    sta save_game_level_i_small_stone_direction_without_bounces       ; 43d8: 8d 2b 0a
    sta save_game_level_i_small_stone_direction_including_bounces     ; 43db: 8d 2e 0a
    lda object_x_low + objectid_player_accessory                      ; 43de: ad 51 09
    sta save_game_level_i_small_stone_x_low                           ; 43e1: 8d 27 0a
    lda object_x_high + objectid_player_accessory                     ; 43e4: ad 67 09
    sta save_game_level_i_small_stone_x_high                          ; 43e7: 8d 28 0a
    lda object_y_low + objectid_player_accessory                      ; 43ea: ad 7d 09
    sta save_game_level_i_small_stone_y_low                           ; 43ed: 8d 29 0a
    lda object_y_high + objectid_player_accessory                     ; 43f0: ad 93 09
    sta save_game_level_i_small_stone_y_high                          ; 43f3: 8d 2a 0a
    lda #small_stone_left_seesaw_animation1 - small_stone_left_seesaw_animations; 43f6: a9 01
    sta save_game_level_i_small_stone_left_seesaw_animation_step      ; 43f8: 8d 2c 0a
    sta save_game_level_i_left_seesaw_puzzle_progress                 ; 43fb: 8d 24 0a
    jsr set_small_stone_object                                        ; 43fe: 20 f0 45
    ldx #2                                                            ; 4401: a2 02
    jsr copy_object_state_to_old                                      ; 4403: 20 f7 20
    lda #0                                                            ; 4406: a9 00
    sta player_held_object_spriteid                                   ; 4408: 85 52
c440a
    jsr sub_c449d                                                     ; 440a: 20 9d 44
    lda desired_room_index                                            ; 440d: a5 30
    cmp save_game_level_i_small_stone_room                            ; 440f: cd 2d 0a
    beq c4419                                                         ; 4412: f0 05
    lda #0                                                            ; 4414: a9 00
    sta level_workspace                                               ; 4416: 8d 6f 0a
c4419
    lda l4620                                                         ; 4419: ad 20 46
    sta object_spriteid_old + 2                                       ; 441c: 8d b5 09
    ldx #objectid_old_player                                          ; 441f: a2 0b
    ldy #2                                                            ; 4421: a0 02
    jsr test_for_collision_between_objects_x_and_y                    ; 4423: 20 e2 28
    ldx l461f                                                         ; 4426: ae 1f 46
    stx player_held_object_spriteid                                   ; 4429: 86 52
    ora #0                                                            ; 442b: 09 00
    beq c4446                                                         ; 442d: f0 17
    lda l461e                                                         ; 442f: ad 1e 46
    bne c4439                                                         ; 4432: d0 05
    lda #spriteid_stone_menu_item                                     ; 4434: a9 ca
    jsr find_or_create_menu_slot_for_A                                ; 4436: 20 bd 2b
c4439
    lda #spriteid_one_pixel_masked_out                                ; 4439: a9 00
    sta object_spriteid + 2                                           ; 443b: 8d aa 09
    lda #$ff                                                          ; 443e: a9 ff
    sta save_game_level_i_left_seesaw_puzzle_progress                 ; 4440: 8d 24 0a
    jmp return4                                                       ; 4443: 4c 9c 44

c4446
    lda l461e                                                         ; 4446: ad 1e 46
    beq c445a                                                         ; 4449: f0 0f
    lda #spriteid_stone_menu_item                                     ; 444b: a9 ca
    jsr remove_item_from_toolbar_menu                                 ; 444d: 20 e0 2b
    lda #0                                                            ; 4450: a9 00
    sta object_spriteid + objectid_player_accessory                   ; 4452: 8d a9 09
    sta player_using_object_spriteid                                  ; 4455: 8d b6 2e
    sta player_held_object_spriteid                                   ; 4458: 85 52
c445a
    lda object_x_low + 2                                              ; 445a: ad 52 09
    cmp object_x_low_old + 2                                          ; 445d: cd 5d 09
    beq c4482                                                         ; 4460: f0 20
    lda save_game_level_i_small_stone_direction_including_bounces     ; 4462: ad 2e 0a
    bmi c446d                                                         ; 4465: 30 06
    inc temp_right_offset                                             ; 4467: ee d1 24
    jmp c4470                                                         ; 446a: 4c 70 44

c446d
    dec temp_left_offset                                              ; 446d: ce d0 24
c4470
    lda #1                                                            ; 4470: a9 01
    sta temp_bottom_offset                                            ; 4472: 8d 51 25
    lda #objectid_small_stone_object                                  ; 4475: a9 02
    jsr get_solid_rock_collision_for_object_a                         ; 4477: 20 94 28
    beq c4482                                                         ; 447a: f0 06
    jsr play_landing_sound                                            ; 447c: 20 a9 23
    jmp return4                                                       ; 447f: 4c 9c 44

c4482
    lda object_y_low + 2                                              ; 4482: ad 7e 09
    cmp object_y_low_old + 2                                          ; 4485: cd 89 09
    beq return4                                                       ; 4488: f0 12
    dec temp_top_offset                                               ; 448a: ce 50 25
    lda #2                                                            ; 448d: a9 02
    sta temp_bottom_offset                                            ; 448f: 8d 51 25
    lda #2                                                            ; 4492: a9 02
    jsr get_solid_rock_collision_for_object_a                         ; 4494: 20 94 28
    beq return4                                                       ; 4497: f0 03
    jsr play_landing_sound                                            ; 4499: 20 a9 23
return4
    rts                                                               ; 449c: 60

sub_c449d
    lda save_game_level_i_small_stone_left_seesaw_animation_step      ; 449d: ad 2c 0a
    clc                                                               ; 44a0: 18
    adc #2                                                            ; 44a1: 69 02
    tay                                                               ; 44a3: a8
    lda small_stone_left_seesaw_animations,y                          ; 44a4: b9 0d 43
    cmp #$80                                                          ; 44a7: c9 80
    bne c44ae                                                         ; 44a9: d0 03
    ldy save_game_level_i_left_seesaw_puzzle_progress                 ; 44ab: ac 24 0a
c44ae
    lda save_game_level_i_small_stone_direction_including_bounces     ; 44ae: ad 2e 0a
    bmi c44b9                                                         ; 44b1: 30 06
    inc temp_right_offset                                             ; 44b3: ee d1 24
    jmp c44bc                                                         ; 44b6: 4c bc 44

c44b9
    dec temp_left_offset                                              ; 44b9: ce d0 24
c44bc
    lda #1                                                            ; 44bc: a9 01
    sta temp_bottom_offset                                            ; 44be: 8d 51 25
    lda #objectid_small_stone_object                                  ; 44c1: a9 02
    jsr get_solid_rock_collision_for_object_a                         ; 44c3: 20 94 28
    beq c44d0                                                         ; 44c6: f0 08
    lda save_game_level_i_small_stone_direction_including_bounces     ; 44c8: ad 2e 0a
    eor #$fe                                                          ; 44cb: 49 fe
    sta save_game_level_i_small_stone_direction_including_bounces     ; 44cd: 8d 2e 0a
c44d0
    lda save_game_level_i_left_seesaw_puzzle_progress                 ; 44d0: ad 24 0a
    cmp #small_stone_left_seesaw_animation1 - small_stone_left_seesaw_animations; 44d3: c9 01
    bne c44ed                                                         ; 44d5: d0 16
    dec temp_top_offset                                               ; 44d7: ce 50 25
    lda #objectid_small_stone_object                                  ; 44da: a9 02
    jsr get_solid_rock_collision_for_object_a                         ; 44dc: 20 94 28
    bne c44e6                                                         ; 44df: d0 05
    cpy save_game_level_i_left_seesaw_puzzle_progress                 ; 44e1: cc 24 0a
    bne c451d                                                         ; 44e4: d0 37
c44e6
    lda #small_stone_left_seesaw_animation3 - small_stone_left_seesaw_animations; 44e6: a9 1b
    sta save_game_level_i_left_seesaw_puzzle_progress                 ; 44e8: 8d 24 0a
    ldy #small_stone_left_seesaw_animation2 - small_stone_left_seesaw_animations; 44eb: a0 0e
c44ed
    lda #objectid_small_stone_object                                  ; 44ed: a9 02
    jsr update_player_hitting_floor                                   ; 44ef: 20 70 27
    lda save_game_level_i_left_seesaw_puzzle_progress                 ; 44f2: ad 24 0a
    cmp #small_stone_left_seesaw_animation3 - small_stone_left_seesaw_animations; 44f5: c9 1b
    bne c4503                                                         ; 44f7: d0 0a
    lda player_has_hit_floor_flag                                     ; 44f9: ad 8f 28
    beq c451d                                                         ; 44fc: f0 1f
    ldy #small_stone_left_seesaw_animation4 - small_stone_left_seesaw_animations; 44fe: a0 1e
    sty save_game_level_i_left_seesaw_puzzle_progress                 ; 4500: 8c 24 0a
c4503
    lda player_just_fallen_off_edge_direction                         ; 4503: ad 90 28
    beq c451d                                                         ; 4506: f0 15
    ldy #small_stone_left_seesaw_animation3 - small_stone_left_seesaw_animations; 4508: a0 1b
    sty save_game_level_i_left_seesaw_puzzle_progress                 ; 450a: 8c 24 0a
    ldy #small_stone_left_seesaw_animation5 - small_stone_left_seesaw_animations; 450d: a0 21
    ldx #1                                                            ; 450f: a2 01
    stx save_game_level_i_small_stone_direction_including_bounces     ; 4511: 8e 2e 0a
    ora #0                                                            ; 4514: 09 00
    bpl c451d                                                         ; 4516: 10 05
    ldx #$ff                                                          ; 4518: a2 ff
    stx save_game_level_i_small_stone_direction_including_bounces     ; 451a: 8e 2e 0a
c451d
    sty save_game_level_i_small_stone_left_seesaw_animation_step      ; 451d: 8c 2c 0a
    lda save_game_level_i_left_seesaw_puzzle_progress                 ; 4520: ad 24 0a
    cmp #small_stone_left_seesaw_animation4 - small_stone_left_seesaw_animations; 4523: c9 1e
    bne c452c                                                         ; 4525: d0 05
    lda #0                                                            ; 4527: a9 00
    sta level_workspace                                               ; 4529: 8d 6f 0a
c452c
    lda small_stone_left_seesaw_animations,y                          ; 452c: b9 0d 43
    ldx save_game_level_i_small_stone_direction_including_bounces     ; 452f: ae 2e 0a
    bpl c4539                                                         ; 4532: 10 05
    eor #$ff                                                          ; 4534: 49 ff
    clc                                                               ; 4536: 18
    adc #1                                                            ; 4537: 69 01
c4539
    ldx #0                                                            ; 4539: a2 00
    ora #0                                                            ; 453b: 09 00
    bpl c4540                                                         ; 453d: 10 01
    dex                                                               ; 453f: ca
c4540
    clc                                                               ; 4540: 18
    adc save_game_level_i_small_stone_x_low                           ; 4541: 6d 27 0a
    sta save_game_level_i_small_stone_x_low                           ; 4544: 8d 27 0a
    txa                                                               ; 4547: 8a
    adc save_game_level_i_small_stone_x_high                          ; 4548: 6d 28 0a
    sta save_game_level_i_small_stone_x_high                          ; 454b: 8d 28 0a
    iny                                                               ; 454e: c8
    lda small_stone_left_seesaw_animations,y                          ; 454f: b9 0d 43
    ldx #0                                                            ; 4552: a2 00
    ora #0                                                            ; 4554: 09 00
    bpl c4559                                                         ; 4556: 10 01
    dex                                                               ; 4558: ca
c4559
    clc                                                               ; 4559: 18
    adc save_game_level_i_small_stone_y_low                           ; 455a: 6d 29 0a
    sta save_game_level_i_small_stone_y_low                           ; 455d: 8d 29 0a
    txa                                                               ; 4560: 8a
    adc save_game_level_i_small_stone_y_high                          ; 4561: 6d 2a 0a
    sta save_game_level_i_small_stone_y_high                          ; 4564: 8d 2a 0a
    jsr set_small_stone_object                                        ; 4567: 20 f0 45
    lda #objectid_small_stone_object                                  ; 456a: a9 02
    jsr update_object_a_solid_rock_collision                          ; 456c: 20 f5 25
    lda object_x_low + objectid_small_stone_object                    ; 456f: ad 52 09
    sta save_game_level_i_small_stone_x_low                           ; 4572: 8d 27 0a
    lda object_x_high + objectid_small_stone_object                   ; 4575: ad 68 09
    sta save_game_level_i_small_stone_x_high                          ; 4578: 8d 28 0a
    lda object_y_low + objectid_small_stone_object                    ; 457b: ad 7e 09
    sta save_game_level_i_small_stone_y_low                           ; 457e: 8d 29 0a
    lda object_y_high + objectid_small_stone_object                   ; 4581: ad 94 09
    sta save_game_level_i_small_stone_y_high                          ; 4584: 8d 2a 0a
    ldx #objectid_small_stone_object                                  ; 4587: a2 02
    jsr find_left_and_right_of_object                                 ; 4589: 20 34 24
    jsr find_top_and_bottom_of_object                                 ; 458c: 20 d2 24
    lda save_game_level_i_small_stone_room                            ; 458f: ad 2d 0a
    cmp #3                                                            ; 4592: c9 03
    beq move_small_stone_one_room_down_if_needed                      ; 4594: f0 39
    lda save_game_level_i_small_stone_direction_including_bounces     ; 4596: ad 2e 0a
    bmi move_small_stone_one_room_left_if_needed                      ; 4599: 30 1c
    lda l0078                                                         ; 459b: a5 78
    cmp #game_area_width_cells                                        ; 459d: c9 28
    bcc return5                                                       ; 459f: 90 4e
; move small stone right one room
    lda save_game_level_i_small_stone_x_low                           ; 45a1: ad 27 0a
    sec                                                               ; 45a4: 38
    sbc #$40 ; '@'                                                    ; 45a5: e9 40
    sta save_game_level_i_small_stone_x_low                           ; 45a7: 8d 27 0a
    lda #0                                                            ; 45aa: a9 00
    sbc #0                                                            ; 45ac: e9 00
    sta save_game_level_i_small_stone_x_high                          ; 45ae: 8d 28 0a
    inc save_game_level_i_small_stone_room                            ; 45b1: ee 2d 0a
    jmp hide_stone                                                    ; 45b4: 4c ea 45

move_small_stone_one_room_left_if_needed
    lda l0079                                                         ; 45b7: a5 79
    bpl return5                                                       ; 45b9: 10 34
    lda save_game_level_i_small_stone_x_low                           ; 45bb: ad 27 0a
    clc                                                               ; 45be: 18
    adc #<(game_area_width_cells * 8)                                 ; 45bf: 69 40
    sta save_game_level_i_small_stone_x_low                           ; 45c1: 8d 27 0a
    lda #>(game_area_width_cells * 8)                                 ; 45c4: a9 01
    sta save_game_level_i_small_stone_x_high                          ; 45c6: 8d 28 0a
    dec save_game_level_i_small_stone_room                            ; 45c9: ce 2d 0a
    jmp hide_stone                                                    ; 45cc: 4c ea 45

move_small_stone_one_room_down_if_needed
    lda l007a                                                         ; 45cf: a5 7a
    cmp #game_area_height_cells                                       ; 45d1: c9 18
    bcc return5                                                       ; 45d3: 90 1a
    lda save_game_level_i_small_stone_x_low                           ; 45d5: ad 27 0a                ; [bug - should be y coordinate?]
    sec                                                               ; 45d8: 38
    sbc #<(game_area_height_cells * 8)                                ; 45d9: e9 c0
    sta save_game_level_i_small_stone_y_low                           ; 45db: 8d 29 0a
    lda #0                                                            ; 45de: a9 00
    sbc #>(game_area_height_cells * 8)                                ; 45e0: e9 00
    sta save_game_level_i_small_stone_y_high                          ; 45e2: 8d 2a 0a
    lda #1                                                            ; 45e5: a9 01
    sta save_game_level_i_small_stone_room                            ; 45e7: 8d 2d 0a
hide_stone
    lda #spriteid_one_pixel_masked_out                                ; 45ea: a9 00
    sta object_spriteid + objectid_small_stone_object                 ; 45ec: 8d aa 09
return5
    rts                                                               ; 45ef: 60

set_small_stone_object
    lda #spriteid_erase_small_stone                                   ; 45f0: a9 c9
    sta object_erase_type + objectid_small_stone_object               ; 45f2: 8d ae 38
    lda #$a0                                                          ; 45f5: a9 a0
    sta object_z_order + objectid_small_stone_object                  ; 45f7: 8d c4 38
    lda save_game_level_i_small_stone_x_low                           ; 45fa: ad 27 0a
    sta object_x_low + objectid_small_stone_object                    ; 45fd: 8d 52 09
    lda save_game_level_i_small_stone_x_high                          ; 4600: ad 28 0a
    sta object_x_high + objectid_small_stone_object                   ; 4603: 8d 68 09
    lda save_game_level_i_small_stone_y_low                           ; 4606: ad 29 0a
    sta object_y_low + objectid_small_stone_object                    ; 4609: 8d 7e 09
    lda save_game_level_i_small_stone_y_high                          ; 460c: ad 2a 0a
    sta object_y_high + objectid_small_stone_object                   ; 460f: 8d 94 09
    lda #spriteid_small_stone                                         ; 4612: a9 c8
    sta object_spriteid + objectid_small_stone_object                 ; 4614: 8d aa 09
    lda save_game_level_i_small_stone_direction_without_bounces       ; 4617: ad 2b 0a
    sta object_direction + objectid_small_stone_object                ; 461a: 8d c0 09
    rts                                                               ; 461d: 60

l461e
    !byte 0                                                           ; 461e: 00
l461f
    !byte 0                                                           ; 461f: 00
l4620
    !byte 0                                                           ; 4620: 00
l4621
    !byte 0                                                           ; 4621: 00

play_sounds34
    lda #0                                                            ; 4622: a9 00
    ldx #<sound3                                                      ; 4624: a2 74
    ldy #>sound3                                                      ; 4626: a0 46
    jsr play_sound_yx                                                 ; 4628: 20 f6 38
    ldx #<sound4                                                      ; 462b: a2 6c
    ldy #>sound4                                                      ; 462d: a0 46
    jmp play_sound_yx                                                 ; 462f: 4c f6 38

envelope3
    !byte 5                                                           ; 4632: 05                      ; envelope number
    !byte 1                                                           ; 4633: 01                      ; step length (100ths of a second)
    !byte 255                                                         ; 4634: ff                      ; pitch change per step in section 1
    !byte 0                                                           ; 4635: 00                      ; pitch change per step in section 2
    !byte 0                                                           ; 4636: 00                      ; pitch change per step in section 3
    !byte 1                                                           ; 4637: 01                      ; number of steps in section 1
    !byte 1                                                           ; 4638: 01                      ; number of steps in section 2
    !byte 0                                                           ; 4639: 00                      ; number of steps in section 3
    !byte 110                                                         ; 463a: 6e                      ; change of amplitude per step during attack phase
    !byte 252                                                         ; 463b: fc                      ; change of amplitude per step during decay phase
    !byte 0                                                           ; 463c: 00                      ; change of amplitude per step during sustain phase
    !byte 248                                                         ; 463d: f8                      ; change of amplitude per step during release phase
    !byte 110                                                         ; 463e: 6e                      ; target of level at end of attack phase
    !byte 0                                                           ; 463f: 00                      ; target of level at end of decay phase
sound2
    !word $13                                                         ; 4640: 13 00                   ; channel
    !word 5                                                           ; 4642: 05 00                   ; amplitude
    !word 201                                                         ; 4644: c9 00                   ; pitch
    !word 1                                                           ; 4646: 01 00                   ; duration
envelope1
    !byte 5                                                           ; 4648: 05                      ; envelope number
    !byte 1                                                           ; 4649: 01                      ; step length (100ths of a second)
    !byte 0                                                           ; 464a: 00                      ; pitch change per step in section 1
    !byte 0                                                           ; 464b: 00                      ; pitch change per step in section 2
    !byte 0                                                           ; 464c: 00                      ; pitch change per step in section 3
    !byte 0                                                           ; 464d: 00                      ; number of steps in section 1
    !byte 0                                                           ; 464e: 00                      ; number of steps in section 2
    !byte 0                                                           ; 464f: 00                      ; number of steps in section 3
    !byte 10                                                          ; 4650: 0a                      ; change of amplitude per step during attack phase
    !byte 0                                                           ; 4651: 00                      ; change of amplitude per step during decay phase
    !byte 0                                                           ; 4652: 00                      ; change of amplitude per step during sustain phase
    !byte 216                                                         ; 4653: d8                      ; change of amplitude per step during release phase
    !byte 40                                                          ; 4654: 28                      ; target of level at end of attack phase
    !byte 0                                                           ; 4655: 00                      ; target of level at end of decay phase
sound1
    !word $10                                                         ; 4656: 10 00                   ; channel
    !word 5                                                           ; 4658: 05 00                   ; amplitude
    !word 4                                                           ; 465a: 04 00                   ; pitch
    !word 4                                                           ; 465c: 04 00                   ; duration
envelope2
    !byte 6                                                           ; 465e: 06                      ; envelope number
    !byte 1                                                           ; 465f: 01                      ; step length (100ths of a second)
    !byte 0                                                           ; 4660: 00                      ; pitch change per step in section 1
    !byte 0                                                           ; 4661: 00                      ; pitch change per step in section 2
    !byte 0                                                           ; 4662: 00                      ; pitch change per step in section 3
    !byte 0                                                           ; 4663: 00                      ; number of steps in section 1
    !byte 0                                                           ; 4664: 00                      ; number of steps in section 2
    !byte 0                                                           ; 4665: 00                      ; number of steps in section 3
    !byte 55                                                          ; 4666: 37                      ; change of amplitude per step during attack phase
    !byte 0                                                           ; 4667: 00                      ; change of amplitude per step during decay phase
    !byte 0                                                           ; 4668: 00                      ; change of amplitude per step during sustain phase
    !byte 250                                                         ; 4669: fa                      ; change of amplitude per step during release phase
    !byte 110                                                         ; 466a: 6e                      ; target of level at end of attack phase
    !byte 55                                                          ; 466b: 37                      ; target of level at end of decay phase
sound4
    !word $10                                                         ; 466c: 10 00                   ; channel
    !word 6                                                           ; 466e: 06 00                   ; amplitude
    !word 7                                                           ; 4670: 07 00                   ; pitch
    !word 1                                                           ; 4672: 01 00                   ; duration
sound3
    !word $11                                                         ; 4674: 11 00                   ; channel
    !word 0                                                           ; 4676: 00 00                   ; amplitude
    !word 210                                                         ; 4678: d2 00                   ; pitch
    !word 1                                                           ; 467a: 01 00                   ; duration
ground_fill_2x2_top_left
    !byte %....#...                                                   ; 467c: 08
    !byte %....#...                                                   ; 467d: 08
    !byte %...#.#..                                                   ; 467e: 14
    !byte %..#...##                                                   ; 467f: 23
    !byte %##......                                                   ; 4680: c0
    !byte %..#.....                                                   ; 4681: 20
    !byte %...#....                                                   ; 4682: 10
    !byte %...#....                                                   ; 4683: 10
ground_fill_2x2_top_right
    !byte %...#....                                                   ; 4684: 10
    !byte %...#....                                                   ; 4685: 10
    !byte %..#.#...                                                   ; 4686: 28
    !byte %##...#..                                                   ; 4687: c4
    !byte %......##                                                   ; 4688: 03
    !byte %.....#..                                                   ; 4689: 04
    !byte %....#...                                                   ; 468a: 08
    !byte %....#...                                                   ; 468b: 08
ground_fill_2x2_bottom_left
    !byte %...#....                                                   ; 468c: 10
    !byte %...#....                                                   ; 468d: 10
    !byte %..#.....                                                   ; 468e: 20
    !byte %##......                                                   ; 468f: c0
    !byte %..#...##                                                   ; 4690: 23
    !byte %...#.#..                                                   ; 4691: 14
    !byte %....#...                                                   ; 4692: 08
    !byte %....#...                                                   ; 4693: 08
ground_fill_2x2_bottom_right
    !byte %....#...                                                   ; 4694: 08
    !byte %....#...                                                   ; 4695: 08
    !byte %.....#..                                                   ; 4696: 04
    !byte %......##                                                   ; 4697: 03
    !byte %##...#..                                                   ; 4698: c4
    !byte %..#.#...                                                   ; 4699: 28
    !byte %...#....                                                   ; 469a: 10
    !byte %...#....                                                   ; 469b: 10
sprite_data
pydis_end

; Automatically generated labels:
;     c3c81
;     c3c91
;     c3c9a
;     c3cf3
;     c3d57
;     c3d5a
;     c3d69
;     c3d88
;     c3d92
;     c3db1
;     c3dd1
;     c3de0
;     c3de6
;     c3df5
;     c3e08
;     c3e37
;     c3e3a
;     c3e59
;     c3e6c
;     c3e82
;     c3fbd
;     c3fe5
;     c3fe8
;     c4009
;     c400f
;     c4024
;     c4045
;     c4068
;     c41ca
;     c4207
;     c420a
;     c422d
;     c423e
;     c4253
;     c426c
;     c4275
;     c4292
;     c42cf
;     c42dc
;     c4305
;     c4365
;     c4390
;     c440a
;     c4419
;     c4439
;     c4446
;     c445a
;     c446d
;     c4470
;     c4482
;     c44ae
;     c44b9
;     c44bc
;     c44d0
;     c44e6
;     c44ed
;     c4503
;     c451d
;     c452c
;     c4539
;     c4540
;     c4559
;     l0078
;     l0079
;     l007a
;     l3ea9
;     l4164
;     l4174
;     l4194
;     l461e
;     l461f
;     l4620
;     l4621
;     loop_c3ce2
;     loop_c3d05
;     loop_c3d30
;     loop_c3df2
;     loop_c4376
;     sub_c40c2
;     sub_c42fa
;     sub_c449d
!if (<(game_area_height_cells * 8)) != $c0 {
    !error "Assertion failed: <(game_area_height_cells * 8) == $c0"
}
!if (<(game_area_width_cells * 8)) != $40 {
    !error "Assertion failed: <(game_area_width_cells * 8) == $40"
}
!if (<envelope1) != $48 {
    !error "Assertion failed: <envelope1 == $48"
}
!if (<envelope2) != $5e {
    !error "Assertion failed: <envelope2 == $5e"
}
!if (<envelope3) != $32 {
    !error "Assertion failed: <envelope3 == $32"
}
!if (<ground_fill_2x2_top_left) != $7c {
    !error "Assertion failed: <ground_fill_2x2_top_left == $7c"
}
!if (<sound1) != $56 {
    !error "Assertion failed: <sound1 == $56"
}
!if (<sound2) != $40 {
    !error "Assertion failed: <sound2 == $40"
}
!if (<sound3) != $74 {
    !error "Assertion failed: <sound3 == $74"
}
!if (<sound4) != $6c {
    !error "Assertion failed: <sound4 == $6c"
}
!if (>(game_area_height_cells * 8)) != $00 {
    !error "Assertion failed: >(game_area_height_cells * 8) == $00"
}
!if (>(game_area_width_cells * 8)) != $01 {
    !error "Assertion failed: >(game_area_width_cells * 8) == $01"
}
!if (>envelope1) != $46 {
    !error "Assertion failed: >envelope1 == $46"
}
!if (>envelope2) != $46 {
    !error "Assertion failed: >envelope2 == $46"
}
!if (>envelope3) != $46 {
    !error "Assertion failed: >envelope3 == $46"
}
!if (>ground_fill_2x2_top_left) != $46 {
    !error "Assertion failed: >ground_fill_2x2_top_left == $46"
}
!if (>sound1) != $46 {
    !error "Assertion failed: >sound1 == $46"
}
!if (>sound2) != $46 {
    !error "Assertion failed: >sound2 == $46"
}
!if (>sound3) != $46 {
    !error "Assertion failed: >sound3 == $46"
}
!if (>sound4) != $46 {
    !error "Assertion failed: >sound4 == $46"
}
!if (collision_map_none) != $00 {
    !error "Assertion failed: collision_map_none == $00"
}
!if (collision_map_rope) != $02 {
    !error "Assertion failed: collision_map_rope == $02"
}
!if (collision_map_solid_rock) != $03 {
    !error "Assertion failed: collision_map_solid_rock == $03"
}
!if (exit_room_bottom) != $02 {
    !error "Assertion failed: exit_room_bottom == $02"
}
!if (exit_room_left) != $01 {
    !error "Assertion failed: exit_room_left == $01"
}
!if (exit_room_right) != $04 {
    !error "Assertion failed: exit_room_right == $04"
}
!if (exit_room_top) != $08 {
    !error "Assertion failed: exit_room_top == $08"
}
!if (game_area_height_cells) != $18 {
    !error "Assertion failed: game_area_height_cells == $18"
}
!if (game_area_width_cells) != $28 {
    !error "Assertion failed: game_area_width_cells == $28"
}
!if (level_specific_initialisation) != $3af1 {
    !error "Assertion failed: level_specific_initialisation == $3af1"
}
!if (level_specific_password) != $3ae7 {
    !error "Assertion failed: level_specific_password == $3ae7"
}
!if (level_specific_update) != $3b3a {
    !error "Assertion failed: level_specific_update == $3b3a"
}
!if (object_direction + 3) != $09c1 {
    !error "Assertion failed: object_direction + 3 == $09c1"
}
!if (object_direction + 4) != $09c2 {
    !error "Assertion failed: object_direction + 4 == $09c2"
}
!if (object_direction + objectid_seesaw) != $09c1 {
    !error "Assertion failed: object_direction + objectid_seesaw == $09c1"
}
!if (object_direction + objectid_small_stone_object) != $09c0 {
    !error "Assertion failed: object_direction + objectid_small_stone_object == $09c0"
}
!if (object_erase_type + objectid_big_stone_room_3) != $38b0 {
    !error "Assertion failed: object_erase_type + objectid_big_stone_room_3 == $38b0"
}
!if (object_erase_type + objectid_seesaw) != $38af {
    !error "Assertion failed: object_erase_type + objectid_seesaw == $38af"
}
!if (object_erase_type + objectid_small_stone_object) != $38ae {
    !error "Assertion failed: object_erase_type + objectid_small_stone_object == $38ae"
}
!if (object_spriteid + 2) != $09aa {
    !error "Assertion failed: object_spriteid + 2 == $09aa"
}
!if (object_spriteid + 3) != $09ab {
    !error "Assertion failed: object_spriteid + 3 == $09ab"
}
!if (object_spriteid + 4) != $09ac {
    !error "Assertion failed: object_spriteid + 4 == $09ac"
}
!if (object_spriteid + 5) != $09ad {
    !error "Assertion failed: object_spriteid + 5 == $09ad"
}
!if (object_spriteid + 6) != $09ae {
    !error "Assertion failed: object_spriteid + 6 == $09ae"
}
!if (object_spriteid + 7) != $09af {
    !error "Assertion failed: object_spriteid + 7 == $09af"
}
!if (object_spriteid + objectid_big_stone_room_0) != $09ad {
    !error "Assertion failed: object_spriteid + objectid_big_stone_room_0 == $09ad"
}
!if (object_spriteid + objectid_big_stone_room_3) != $09ac {
    !error "Assertion failed: object_spriteid + objectid_big_stone_room_3 == $09ac"
}
!if (object_spriteid + objectid_rope_end) != $09b0 {
    !error "Assertion failed: object_spriteid + objectid_rope_end == $09b0"
}
!if (object_spriteid + objectid_seesaw) != $09ab {
    !error "Assertion failed: object_spriteid + objectid_seesaw == $09ab"
}
!if (object_spriteid + objectid_small_stone_object) != $09aa {
    !error "Assertion failed: object_spriteid + objectid_small_stone_object == $09aa"
}
!if (object_spriteid_old + 2) != $09b5 {
    !error "Assertion failed: object_spriteid_old + 2 == $09b5"
}
!if (object_spriteid_old + 6) != $09b9 {
    !error "Assertion failed: object_spriteid_old + 6 == $09b9"
}
!if (object_x_high + 4) != $096a {
    !error "Assertion failed: object_x_high + 4 == $096a"
}
!if (object_x_high + objectid_small_stone_object) != $0968 {
    !error "Assertion failed: object_x_high + objectid_small_stone_object == $0968"
}
!if (object_x_low + 2) != $0952 {
    !error "Assertion failed: object_x_low + 2 == $0952"
}
!if (object_x_low + 4) != $0954 {
    !error "Assertion failed: object_x_low + 4 == $0954"
}
!if (object_x_low + 5) != $0955 {
    !error "Assertion failed: object_x_low + 5 == $0955"
}
!if (object_x_low + objectid_big_stone_room_3) != $0954 {
    !error "Assertion failed: object_x_low + objectid_big_stone_room_3 == $0954"
}
!if (object_x_low + objectid_small_stone_object) != $0952 {
    !error "Assertion failed: object_x_low + objectid_small_stone_object == $0952"
}
!if (object_x_low_old + 2) != $095d {
    !error "Assertion failed: object_x_low_old + 2 == $095d"
}
!if (object_y_high + objectid_small_stone_object) != $0994 {
    !error "Assertion failed: object_y_high + objectid_small_stone_object == $0994"
}
!if (object_y_low + 2) != $097e {
    !error "Assertion failed: object_y_low + 2 == $097e"
}
!if (object_y_low + 4) != $0980 {
    !error "Assertion failed: object_y_low + 4 == $0980"
}
!if (object_y_low + 5) != $0981 {
    !error "Assertion failed: object_y_low + 5 == $0981"
}
!if (object_y_low + 6) != $0982 {
    !error "Assertion failed: object_y_low + 6 == $0982"
}
!if (object_y_low + 7) != $0983 {
    !error "Assertion failed: object_y_low + 7 == $0983"
}
!if (object_y_low + objectid_big_stone_room_3) != $0980 {
    !error "Assertion failed: object_y_low + objectid_big_stone_room_3 == $0980"
}
!if (object_y_low + objectid_small_stone_object) != $097e {
    !error "Assertion failed: object_y_low + objectid_small_stone_object == $097e"
}
!if (object_y_low_old + 2) != $0989 {
    !error "Assertion failed: object_y_low_old + 2 == $0989"
}
!if (object_y_low_old + 6) != $098d {
    !error "Assertion failed: object_y_low_old + 6 == $098d"
}
!if (object_z_order + objectid_big_stone_room_3) != $38c6 {
    !error "Assertion failed: object_z_order + objectid_big_stone_room_3 == $38c6"
}
!if (object_z_order + objectid_small_stone_object) != $38c4 {
    !error "Assertion failed: object_z_order + objectid_small_stone_object == $38c4"
}
!if (objectid_old_player) != $0b {
    !error "Assertion failed: objectid_old_player == $0b"
}
!if (objectid_player) != $00 {
    !error "Assertion failed: objectid_player == $00"
}
!if (objectid_player_accessory) != $01 {
    !error "Assertion failed: objectid_player_accessory == $01"
}
!if (objectid_seesaw) != $03 {
    !error "Assertion failed: objectid_seesaw == $03"
}
!if (objectid_small_stone_object) != $02 {
    !error "Assertion failed: objectid_small_stone_object == $02"
}
!if (room_0_data) != $40d6 {
    !error "Assertion failed: room_0_data == $40d6"
}
!if (room_1_data) != $3b49 {
    !error "Assertion failed: room_1_data == $3b49"
}
!if (room_2_data) != $3bf4 {
    !error "Assertion failed: room_2_data == $3bf4"
}
!if (room_3_data) != $3eaa {
    !error "Assertion failed: room_3_data == $3eaa"
}
!if (small_stone_left_seesaw_animation1 - small_stone_left_seesaw_animations) != $01 {
    !error "Assertion failed: small_stone_left_seesaw_animation1 - small_stone_left_seesaw_animations == $01"
}
!if (small_stone_left_seesaw_animation2 - small_stone_left_seesaw_animations) != $0e {
    !error "Assertion failed: small_stone_left_seesaw_animation2 - small_stone_left_seesaw_animations == $0e"
}
!if (small_stone_left_seesaw_animation3 - small_stone_left_seesaw_animations) != $1b {
    !error "Assertion failed: small_stone_left_seesaw_animation3 - small_stone_left_seesaw_animations == $1b"
}
!if (small_stone_left_seesaw_animation4 - small_stone_left_seesaw_animations) != $1e {
    !error "Assertion failed: small_stone_left_seesaw_animation4 - small_stone_left_seesaw_animations == $1e"
}
!if (small_stone_left_seesaw_animation5 - small_stone_left_seesaw_animations) != $21 {
    !error "Assertion failed: small_stone_left_seesaw_animation5 - small_stone_left_seesaw_animations == $21"
}
!if (sprite_data - level_data) != $0bc7 {
    !error "Assertion failed: sprite_data - level_data == $0bc7"
}
!if (spriteid_big_stone) != $cb {
    !error "Assertion failed: spriteid_big_stone == $cb"
}
!if (spriteid_boulder) != $dd {
    !error "Assertion failed: spriteid_boulder == $dd"
}
!if (spriteid_cache2) != $cc {
    !error "Assertion failed: spriteid_cache2 == $cc"
}
!if (spriteid_cache3) != $cd {
    !error "Assertion failed: spriteid_cache3 == $cd"
}
!if (spriteid_cache4) != $cf {
    !error "Assertion failed: spriteid_cache4 == $cf"
}
!if (spriteid_erase_small_stone) != $c9 {
    !error "Assertion failed: spriteid_erase_small_stone == $c9"
}
!if (spriteid_horizontal_rope) != $d8 {
    !error "Assertion failed: spriteid_horizontal_rope == $d8"
}
!if (spriteid_left_hook) != $d6 {
    !error "Assertion failed: spriteid_left_hook == $d6"
}
!if (spriteid_long_rope_end2) != $db {
    !error "Assertion failed: spriteid_long_rope_end2 == $db"
}
!if (spriteid_one_pixel_masked_out) != $00 {
    !error "Assertion failed: spriteid_one_pixel_masked_out == $00"
}
!if (spriteid_right_hook) != $d7 {
    !error "Assertion failed: spriteid_right_hook == $d7"
}
!if (spriteid_rope_broken) != $dc {
    !error "Assertion failed: spriteid_rope_broken == $dc"
}
!if (spriteid_rope_end) != $0a {
    !error "Assertion failed: spriteid_rope_end == $0a"
}
!if (spriteid_seesaw) != $ce {
    !error "Assertion failed: spriteid_seesaw == $ce"
}
!if (spriteid_short_rope) != $d9 {
    !error "Assertion failed: spriteid_short_rope == $d9"
}
!if (spriteid_short_rope_end) != $de {
    !error "Assertion failed: spriteid_short_rope_end == $de"
}
!if (spriteid_small_stone) != $c8 {
    !error "Assertion failed: spriteid_small_stone == $c8"
}
!if (spriteid_stone_menu_item) != $ca {
    !error "Assertion failed: spriteid_stone_menu_item == $ca"
}
!if (spriteid_sword) != $d0 {
    !error "Assertion failed: spriteid_sword == $d0"
}
!if (spriteid_sword_menu_item) != $d1 {
    !error "Assertion failed: spriteid_sword_menu_item == $d1"
}
